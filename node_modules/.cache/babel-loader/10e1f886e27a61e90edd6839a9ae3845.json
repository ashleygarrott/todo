{"remainingRequest":"D:\\IT\\CapriApp\\frontend\\customer\\node_modules\\thread-loader\\dist\\cjs.js!D:\\IT\\CapriApp\\frontend\\customer\\node_modules\\babel-loader\\lib\\index.js!D:\\IT\\CapriApp\\frontend\\customer\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\IT\\CapriApp\\frontend\\customer\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\IT\\CapriApp\\frontend\\customer\\src\\views\\OrderOptions.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\IT\\CapriApp\\frontend\\customer\\src\\views\\OrderOptions.vue","mtime":1608373680940},{"path":"D:\\IT\\CapriApp\\frontend\\customer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IT\\CapriApp\\frontend\\customer\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IT\\CapriApp\\frontend\\customer\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\IT\\CapriApp\\frontend\\customer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IT\\CapriApp\\frontend\\customer\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport VueGoogleAutocomplete from 'vue-google-autocomplete';\nimport NavBar from \"../components/NavBar\";\nexport default {\n  components: {\n    VueGoogleAutocomplete: VueGoogleAutocomplete,\n    NavBar: NavBar\n  },\n  name: \"OrderOptions\",\n  data: function data() {\n    return {\n      useGps: true,\n      addressData: {},\n      address: \"\"\n    };\n  },\n  created: function created() {\n    var orderMode = window.localStorage.getItem(\"orderMode\");\n\n    if (this.$route.params.redirect) {\n      if (this.isValidOrderMode(orderMode)) {\n        this.setMode(orderMode);\n      }\n    }\n  },\n  methods: {\n    setMode: function setMode(mode) {\n      this.$parent.orderMode = mode;\n      window.localStorage.setItem(\"orderMode\", mode);\n      this.$router.push({\n        name: \"home\",\n        params: {\n          orderMode: mode\n        }\n      });\n    },\n    isValidOrderMode: function isValidOrderMode(orderMode) {\n      if (orderMode == \"delivery\") {\n        return true;\n      }\n\n      if (orderMode == \"takeaway\") {\n        return true;\n      }\n\n      if (orderMode == \"dinein\") {\n        return true;\n      }\n\n      return false;\n    },\n    getAddressData: function getAddressData(addressData, placeResultData) {\n      this.addressData = addressData;\n      this.$parent.latitude = addressData.latitude;\n      this.$parent.longitude = addressData.longitude;\n      this.placeResultData = placeResultData;\n      this.address = placeResultData.formatted_address;\n      this.$parent.getDeliveryFee(addressData.latitude, addressData.longitude);\n      window.console.log(addressData);\n      window.console.log(placeResultData);\n    },\n    requestLocation: function requestLocation() {\n      this.$refs.addressInput.clear();\n\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(this.savePosition, function showError(error) {\n          switch (error.code) {\n            case error.PERMISSION_DENIED:\n              this.$parent.deliveryInfo = {};\n              break;\n\n            case error.POSITION_UNAVAILABLE:\n              this.$parent.deliveryInfo = {};\n              break;\n\n            case error.TIMEOUT:\n              this.$parent.deliveryInfo = {};\n              break;\n\n            case error.UNKNOWN_ERROR:\n              this.$parent.deliveryInfo = {};\n              break;\n          }\n        });\n      } else {\n        window.console.log(\"Geolocation is not supported by this browser.\");\n        this.$parent.deliveryInfo = {};\n      }\n    },\n    savePosition: function savePosition(position) {\n      var _this = this;\n\n      this.$parent.latitude = position.coords.latitude;\n      this.$parent.longitude = position.coords.longitude;\n      window.console.log(this.$parent.latitude); //do other stuff\n\n      this.axios.post(this.$parent.api + 'processor/get_delivery_fee', {\n        latitude: this.$parent.latitude,\n        longitude: this.$parent.longitude\n      }).then(function (res) {\n        window.console.log(res.data);\n        _this.$parent.deliveryInfo = res.data;\n        window.localStorage.setItem(\"deliveryInfo\", JSON.stringify(_this.$parent.deliveryInfo));\n\n        if (_this.$parent.deliveryInfo.destination.length > 50) {\n          _this.$parent.deliveryInfo.shortenedAddress = _this.$parent.deliveryInfo.destination.substring(0, 50) + \"...\";\n        } else _this.$parent.deliveryInfo.shortenedAddress = _this.$parent.deliveryInfo.destination;\n\n        _this.address = _this.$parent.deliveryInfo.destination;\n      }).catch(function (error) {\n        window.console.log(error);\n      });\n    }\n  }\n};",{"version":3,"sources":["OrderOptions.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"topBar fixed-top extralightBackground rounded\">\r\n            <div class=\"d-flex justify-content-around my-1\"> \r\n                <!-- <h5 style=\"color:white\">Welcome to Capri Cove</h5> -->\r\n                <img src=\"/img/logos/logo.png\" height=38px class=\"my-0\">\r\n            </div>\r\n        </div>\r\n\r\n        \r\n\r\n        <div class=\"container my-3\">\r\n            <img src=\"/img/banners/banner.jpg\" width=\"100%\" height=\"150px\" class=\"rounded mt-2\">\r\n            <div class=\"card shadowed mt-4\">\r\n                <div class=\"d-flex justify-content-between mediumBackground rounded p-2\">\r\n                    <div>\r\n                        <p class=\"mb-0\" style=\"font-size:12px;color:#d2dedb\">delivery fee</p>\r\n                        <div class=\"d-flex justify-content-start\">\r\n                            <p class=\"my-0\" style=\"font-size:30px;color:white\">à¸¿</p>\r\n                            <p class=\"my-0\" style=\"font-size:30px;font-weight:900;color:white\">{{$parent.deliveryInfo.deliveryFee}}</p>\r\n                        </div>\r\n                    </div>\r\n                    <p style=\"color:white\">{{$parent.deliveryInfo.duration.humanReadable}}</p>\r\n\r\n                </div>\r\n                \r\n                <div class=\"p-2\">\r\n                    <div class=\"d-flex justify-content-start\">\r\n                        <i class=\"fas fa-map-marker-alt my-auto lightColour mr-2 my-auto\" style=\"align-items:baseline\"></i>\r\n                        <p class=\"mb-1 darkColour mr-2 my-auto\" style=\"align-items:baseline\"><b>{{$parent.deliveryInfo.distance.humanReadable}}</b></p>\r\n                        <p class=\"text-secondary my-auto\" style=\"font-size:14px;align-items:baseline;\">from Capri Cove</p>\r\n                    </div>\r\n\r\n                    <p class=\"mt-1\" style=\"font-size:12px;color:silver\">{{$parent.deliveryInfo.destination}}</p>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"mt-4\">\r\n                <p class=\"mb-0 ml-2 darkColour\"><b>Address</b></p>\r\n                <div class=\"d-flex justify-content-between my-1\">\r\n                    <vue-google-autocomplete\r\n                        id=\"map\"\r\n                        classname=\"form-control\"\r\n                        v-bind:placeholder=\"$parent.deliveryInfo.destination\"\r\n                        v-on:placechanged=\"getAddressData\"\r\n                        country=\"th\"\r\n                        ref=\"addressInput\"\r\n                    >\r\n                    </vue-google-autocomplete>\r\n                    <a href=\"#\" @click.prevent=\"requestLocation()\" class=\"my-auto\">\r\n                        <i class=\"fas fa-map-marker-alt my-auto lightColour mx-3 my-auto\"></i>\r\n                    </a>\r\n                </div>\r\n\r\n                \r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"d-flex justify-content-center my-2\">\r\n            <div class=\"m-2\">\r\n                <div class=\"lightBackground p-2 rounded\" v-on:click=\"setMode('delivery')\">\r\n                    <p class=\"text-center my-auto\" style=\"color:white\">Delivery</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"m-2\">\r\n                <div class=\"lightBackground p-2 rounded\" v-on:click=\"setMode('takeaway')\">\r\n                    <p class=\"text-center my-auto\" style=\"color:white\">Takeaway</p>\r\n                </div>\r\n            </div >\r\n            <div class=\"m-2\">\r\n                <div class=\"lightBackground p-2 rounded\" v-on:click=\"setMode('dinein')\">\r\n                    <p class=\"text-center my-auto\" style=\"color:white\">Dine in</p>\r\n                </div>\r\n            </div >\r\n        </div>\r\n        <div id = \"footer\" class = \"fixed-bottom\">\r\n            <div class=\"navBar\">\r\n                <div class=\"row my-auto\" id=\"bottomNav\" >\r\n                    <div class=\"col-3 text-center mt-1\">\r\n                        <router-link :to=\"{ name: 'home'}\" style=\"color:none\">\r\n                            <i class=\"fas fa-home navIcon mediumColour\"></i>\r\n                            <p class = \"navbarText mb-1 mediumColour\">Home</p>\r\n                        </router-link>\r\n                    </div>\r\n                    <div class=\"col-3 text-center mt-1\">\r\n                        <router-link :to=\"{ name: 'cart'}\" style=\"color:none\">\r\n                            <i class=\"fas fa-shopping-cart navIcon lightColour\"></i>\r\n                            <p class = \"navbarText mb-1 lightColour\">Cart</p>\r\n                        </router-link>\r\n                    </div>\r\n                    <div class=\"col-3 text-center mt-1\">\r\n                        <router-link :to=\"{ name: 'support'}\" style=\"color:none\">\r\n                            <i class=\"fas fa-question navIcon lightColour\"></i>\r\n                            <p class = \"navbarText mb-1 lightColour\">Support</p>\r\n                        </router-link>\r\n                    </div>\r\n                    <div class=\"col-3 text-center mt-1\">\r\n                        <router-link :to=\"{ name: 'account'}\" style=\"color:none\">\r\n                            <i class=\"fas fa-user navIcon lightColour\"></i>\r\n                            <p class = \"navbarText mb-1 lightColour\">Account</p>\r\n                        </router-link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport VueGoogleAutocomplete from 'vue-google-autocomplete'\r\nimport NavBar from '../components/NavBar'\r\n\r\nexport default {\r\n    components: {\r\n        VueGoogleAutocomplete,\r\n        NavBar\r\n    },\r\n    name: \"OrderOptions\",\r\n    data () {\r\n        return {\r\n            useGps: true,\r\n            addressData: {},\r\n            address: \"\"\r\n        }\r\n    },\r\n    created(){\r\n        var orderMode = window.localStorage.getItem(\"orderMode\")\r\n        if (this.$route.params.redirect){\r\n            if (this.isValidOrderMode(orderMode)){\r\n                this.setMode(orderMode)\r\n            }\r\n        }\r\n        \r\n    },\r\n    methods: {\r\n        setMode(mode){\r\n            this.$parent.orderMode = mode\r\n            window.localStorage.setItem(\"orderMode\", mode)\r\n            this.$router.push({name: \"home\", params: {orderMode: mode}})\r\n            \r\n        },\r\n        isValidOrderMode(orderMode){\r\n            if (orderMode == \"delivery\"){\r\n            return true\r\n            }\r\n            if (orderMode == \"takeaway\"){\r\n            return true\r\n            }\r\n            if (orderMode == \"dinein\"){\r\n            return true\r\n            }\r\n            return false\r\n        },\r\n        getAddressData(addressData, placeResultData) {\r\n            this.addressData = addressData;\r\n            this.$parent.latitude = addressData.latitude\r\n            this.$parent.longitude = addressData.longitude\r\n            this.placeResultData = placeResultData\r\n            this.address = placeResultData.formatted_address\r\n            this.$parent.getDeliveryFee(addressData.latitude, addressData.longitude)\r\n            window.console.log(addressData)\r\n            window.console.log(placeResultData)\r\n        },\r\n        requestLocation(){\r\n            this.$refs.addressInput.clear()\r\n            if (navigator.geolocation) {\r\n          navigator.geolocation.getCurrentPosition(this.savePosition , \r\n            function showError(error) {\r\n            switch(error.code) {\r\n              case error.PERMISSION_DENIED:\r\n                this.$parent.deliveryInfo = {}\r\n                break;\r\n              case error.POSITION_UNAVAILABLE:\r\n                this.$parent.deliveryInfo = {}\r\n                break;\r\n              case error.TIMEOUT:\r\n                this.$parent.deliveryInfo = {}\r\n                break;\r\n              case error.UNKNOWN_ERROR:\r\n                this.$parent.deliveryInfo = {}\r\n                break;\r\n            }\r\n});\r\n        } else {\r\n            window.console.log(\"Geolocation is not supported by this browser.\")\r\n            this.$parent.deliveryInfo = {}\r\n        }\r\n        },\r\n        savePosition(position) {\r\n            this.$parent.latitude = position.coords.latitude\r\n            this.$parent.longitude = position.coords.longitude\r\n            window.console.log(this.$parent.latitude)\r\n\r\n            //do other stuff\r\n\r\n            this.axios.post(this.$parent.api + 'processor/get_delivery_fee', {\r\n            latitude: this.$parent.latitude,\r\n            longitude: this.$parent.longitude\r\n            })\r\n            .then(res => {\r\n            window.console.log(res.data)\r\n            this.$parent.deliveryInfo = res.data\r\n            window.localStorage.setItem(\"deliveryInfo\", JSON.stringify(this.$parent.deliveryInfo))\r\n\r\n            if (this.$parent.deliveryInfo.destination.length > 50){\r\n            this.$parent.deliveryInfo.shortenedAddress = this.$parent.deliveryInfo.destination.substring(0, 50) + \"...\"\r\n            }\r\n            else (this.$parent.deliveryInfo.shortenedAddress = this.$parent.deliveryInfo.destination)\r\n\r\n            this.address = this.$parent.deliveryInfo.destination\r\n\r\n            }\r\n            )\r\n            .catch(function (error) {window.console.log(error)});\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n\r\n    .blueBox {\r\n        background-color: #55d6d0;\r\n    }\r\n\r\n    .blueBox p {\r\n        color:white\r\n    }\r\n\r\n\r\n    .background  {\r\n        background-color: lightgrey;\r\n        background-size: cover;\r\n    }\r\n\r\n    .topBar {\r\n        box-shadow: 0px -1px 10px 2px #859096;\r\n        border-color: lightgrey;\r\n        border-style: solid;\r\n        border-width: 1px\r\n    }\r\n\r\n\r\n</style>"],"sourceRoot":"src/views"}]}