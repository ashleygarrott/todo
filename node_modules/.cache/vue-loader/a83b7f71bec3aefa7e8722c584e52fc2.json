{"remainingRequest":"D:\\IT\\CapriApp\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\IT\\CapriApp\\frontend\\src\\views\\OrderOptions.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\IT\\CapriApp\\frontend\\src\\views\\OrderOptions.vue","mtime":1600476446892},{"path":"D:\\IT\\CapriApp\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\IT\\CapriApp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IT\\CapriApp\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport VueGoogleAutocomplete from 'vue-google-autocomplete'\r\nimport NavBar from '../components/NavBar'\r\n\r\nexport default {\r\n    components: {\r\n        VueGoogleAutocomplete,\r\n        NavBar\r\n    },\r\n    name: \"OrderOptions\",\r\n    data () {\r\n        return {\r\n            useGps: true,\r\n            addressData: {},\r\n            address: \"\"\r\n        }\r\n    },\r\n    methods: {\r\n        setMode(mode){\r\n            this.$parent.orderMode = mode\r\n            this.$router.push({name: \"home\"})\r\n        },\r\n        getAddressData(addressData, placeResultData) {\r\n            this.addressData = addressData;\r\n            this.$parent.latitude = addressData.latitude\r\n            this.$parent.longitude = addressData.longitude\r\n            this.placeResultData = placeResultData\r\n            this.address = placeResultData.formatted_address\r\n            this.$parent.getDeliveryFee(addressData.latitude, addressData.longitude)\r\n            window.console.log(addressData)\r\n            window.console.log(placeResultData)\r\n        },\r\n        requestLocation(){\r\n            this.$refs.addressInput.clear()\r\n            if (navigator.geolocation) {\r\n          navigator.geolocation.getCurrentPosition(this.savePosition , \r\n            function showError(error) {\r\n            switch(error.code) {\r\n              case error.PERMISSION_DENIED:\r\n                this.$parent.deliveryInfo = {}\r\n                break;\r\n              case error.POSITION_UNAVAILABLE:\r\n                this.$parent.deliveryInfo = {}\r\n                break;\r\n              case error.TIMEOUT:\r\n                this.$parent.deliveryInfo = {}\r\n                break;\r\n              case error.UNKNOWN_ERROR:\r\n                this.$parent.deliveryInfo = {}\r\n                break;\r\n            }\r\n});\r\n        } else {\r\n            window.console.log(\"Geolocation is not supported by this browser.\")\r\n            this.$parent.deliveryInfo = {}\r\n        }\r\n        },\r\n        savePosition(position) {\r\n            this.$parent.latitude = position.coords.latitude\r\n            this.$parent.longitude = position.coords.longitude\r\n            window.console.log(this.$parent.latitude)\r\n\r\n            //do other stuff\r\n\r\n            this.axios.post('https://capriapp-backend.herokuapp.com/processor/get_delivery_fee', {\r\n            latitude: this.$parent.latitude,\r\n            longitude: this.$parent.longitude\r\n            })\r\n            .then(res => {\r\n            window.console.log(res.data)\r\n            this.$parent.deliveryInfo = res.data\r\n\r\n            if (this.$parent.deliveryInfo.destination.length > 50){\r\n            this.$parent.deliveryInfo.shortenedAddress = this.$parent.deliveryInfo.destination.substring(0, 50) + \"...\"\r\n            }\r\n            else (this.$parent.deliveryInfo.shortenedAddress = this.$parent.deliveryInfo.destination)\r\n\r\n            this.address = this.$parent.deliveryInfo.destination\r\n\r\n            }\r\n            )\r\n            .catch(function (error) {window.console.log(error)});\r\n\r\n        }\r\n    }\r\n}\r\n",{"version":3,"sources":["OrderOptions.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0GA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"OrderOptions.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"topBar fixed-top extralightBackground rounded\">\r\n            <div class=\"d-flex justify-content-around my-1\"> \r\n                <!-- <h5 style=\"color:white\">Welcome to Capri Cove</h5> -->\r\n                <img src=\"/img/logos/logo.png\" height=38px class=\"my-0\">\r\n            </div>\r\n        </div>\r\n\r\n        \r\n\r\n        <div class=\"container my-3\">\r\n            <img src=\"/img/banners/banner.jpg\" width=\"100%\" height=\"150px\" class=\"rounded mt-2\">\r\n            <div class=\"card shadowed mt-4\">\r\n                <div class=\"d-flex justify-content-between mediumBackground rounded p-2\">\r\n                    <div>\r\n                        <p class=\"mb-0\" style=\"font-size:12px;color:#d2dedb\">delivery fee</p>\r\n                        <div class=\"d-flex justify-content-start\">\r\n                            <p class=\"my-0\" style=\"font-size:30px;color:white\">à¸¿</p>\r\n                            <p class=\"my-0\" style=\"font-size:30px;font-weight:900;color:white\">{{$parent.deliveryInfo.deliveryFee}}</p>\r\n                        </div>\r\n                    </div>\r\n                    <p style=\"color:white\">{{$parent.deliveryInfo.duration.humanReadable}}</p>\r\n\r\n                </div>\r\n                \r\n                <div class=\"p-2\">\r\n                    <div class=\"d-flex justify-content-start\">\r\n                        <i class=\"fas fa-map-marker-alt my-auto lightColour mr-2 my-auto\"></i>\r\n                        <p class=\"mb-1 darkColour mr-2 my-auto\"><b>{{$parent.deliveryInfo.distance.humanReadable}}</b></p>\r\n                        <p class=\"text-secondary my-auto\" style=\"font-size:14px\">from Capri Cove</p>\r\n                    </div>\r\n\r\n                    <p class=\"mt-1\" style=\"font-size:12px;color:silver\">{{$parent.deliveryInfo.destination}}</p>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"mt-4\">\r\n                <p class=\"mb-0 ml-2 darkColour\"><b>Address</b></p>\r\n                <div class=\"d-flex justify-content-between my-1\">\r\n                    <vue-google-autocomplete\r\n                        id=\"map\"\r\n                        classname=\"form-control\"\r\n                        v-bind:placeholder=\"$parent.deliveryInfo.destination\"\r\n                        v-on:placechanged=\"getAddressData\"\r\n                        country=\"th\"\r\n                        ref=\"addressInput\"\r\n                    >\r\n                    </vue-google-autocomplete>\r\n                    <a href=\"#\" @click.prevent=\"requestLocation()\" class=\"my-auto\">\r\n                        <i class=\"fas fa-map-marker-alt my-auto lightColour mx-3 my-auto\"></i>\r\n                    </a>\r\n                </div>\r\n\r\n                \r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"d-flex justify-content-center my-2\">\r\n            <div class=\"m-2\">\r\n                <div class=\"lightBackground p-2 rounded\" v-on:click=\"setMode('delivery')\">\r\n                    <p class=\"text-center my-auto\" style=\"color:white\">Delivery</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"m-2\">\r\n                <div class=\"lightBackground p-2 rounded\" v-on:click=\"setMode('takeaway')\">\r\n                    <p class=\"text-center my-auto\" style=\"color:white\">Takeaway</p>\r\n                </div>\r\n            </div >\r\n        </div>\r\n        <div id = \"footer\" class = \"fixed-bottom\">\r\n            <div class=\"navBar\">\r\n                <div class=\"row my-auto\" id=\"bottomNav\" >\r\n                    <div class=\"col-3 text-center mt-1\">\r\n                        <router-link :to=\"{ name: 'home'}\" style=\"color:none\">\r\n                            <i class=\"fas fa-home navIcon mediumColour\"></i>\r\n                            <p class = \"navbarText mb-1 mediumColour\">Home</p>\r\n                        </router-link>\r\n                    </div>\r\n                    <div class=\"col-3 text-center mt-1\">\r\n                        <router-link :to=\"{ name: 'cart'}\" style=\"color:none\">\r\n                            <i class=\"fas fa-shopping-cart navIcon lightColour\"></i>\r\n                            <p class = \"navbarText mb-1 lightColour\">Cart</p>\r\n                        </router-link>\r\n                    </div>\r\n                    <div class=\"col-3 text-center mt-1\">\r\n                        <router-link :to=\"{ name: 'support'}\" style=\"color:none\">\r\n                            <i class=\"fas fa-question navIcon lightColour\"></i>\r\n                            <p class = \"navbarText mb-1 lightColour\">Support</p>\r\n                        </router-link>\r\n                    </div>\r\n                    <div class=\"col-3 text-center mt-1\">\r\n                        <router-link :to=\"{ name: 'account'}\" style=\"color:none\">\r\n                            <i class=\"fas fa-user navIcon lightColour\"></i>\r\n                            <p class = \"navbarText mb-1 lightColour\">Account</p>\r\n                        </router-link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport VueGoogleAutocomplete from 'vue-google-autocomplete'\r\nimport NavBar from '../components/NavBar'\r\n\r\nexport default {\r\n    components: {\r\n        VueGoogleAutocomplete,\r\n        NavBar\r\n    },\r\n    name: \"OrderOptions\",\r\n    data () {\r\n        return {\r\n            useGps: true,\r\n            addressData: {},\r\n            address: \"\"\r\n        }\r\n    },\r\n    methods: {\r\n        setMode(mode){\r\n            this.$parent.orderMode = mode\r\n            this.$router.push({name: \"home\"})\r\n        },\r\n        getAddressData(addressData, placeResultData) {\r\n            this.addressData = addressData;\r\n            this.$parent.latitude = addressData.latitude\r\n            this.$parent.longitude = addressData.longitude\r\n            this.placeResultData = placeResultData\r\n            this.address = placeResultData.formatted_address\r\n            this.$parent.getDeliveryFee(addressData.latitude, addressData.longitude)\r\n            window.console.log(addressData)\r\n            window.console.log(placeResultData)\r\n        },\r\n        requestLocation(){\r\n            this.$refs.addressInput.clear()\r\n            if (navigator.geolocation) {\r\n          navigator.geolocation.getCurrentPosition(this.savePosition , \r\n            function showError(error) {\r\n            switch(error.code) {\r\n              case error.PERMISSION_DENIED:\r\n                this.$parent.deliveryInfo = {}\r\n                break;\r\n              case error.POSITION_UNAVAILABLE:\r\n                this.$parent.deliveryInfo = {}\r\n                break;\r\n              case error.TIMEOUT:\r\n                this.$parent.deliveryInfo = {}\r\n                break;\r\n              case error.UNKNOWN_ERROR:\r\n                this.$parent.deliveryInfo = {}\r\n                break;\r\n            }\r\n});\r\n        } else {\r\n            window.console.log(\"Geolocation is not supported by this browser.\")\r\n            this.$parent.deliveryInfo = {}\r\n        }\r\n        },\r\n        savePosition(position) {\r\n            this.$parent.latitude = position.coords.latitude\r\n            this.$parent.longitude = position.coords.longitude\r\n            window.console.log(this.$parent.latitude)\r\n\r\n            //do other stuff\r\n\r\n            this.axios.post('https://capriapp-backend.herokuapp.com/processor/get_delivery_fee', {\r\n            latitude: this.$parent.latitude,\r\n            longitude: this.$parent.longitude\r\n            })\r\n            .then(res => {\r\n            window.console.log(res.data)\r\n            this.$parent.deliveryInfo = res.data\r\n\r\n            if (this.$parent.deliveryInfo.destination.length > 50){\r\n            this.$parent.deliveryInfo.shortenedAddress = this.$parent.deliveryInfo.destination.substring(0, 50) + \"...\"\r\n            }\r\n            else (this.$parent.deliveryInfo.shortenedAddress = this.$parent.deliveryInfo.destination)\r\n\r\n            this.address = this.$parent.deliveryInfo.destination\r\n\r\n            }\r\n            )\r\n            .catch(function (error) {window.console.log(error)});\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n\r\n    .blueBox {\r\n        background-color: #55d6d0;\r\n    }\r\n\r\n    .blueBox p {\r\n        color:white\r\n    }\r\n\r\n\r\n    .background  {\r\n        background-color: lightgrey;\r\n        background-size: cover;\r\n    }\r\n\r\n    .topBar {\r\n        box-shadow: 0px -1px 10px 2px #859096;\r\n        border-color: lightgrey;\r\n        border-style: solid;\r\n        border-width: 1px\r\n    }\r\n\r\n\r\n</style>"]}]}