{"remainingRequest":"D:\\IT\\CapriApp\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\IT\\CapriApp\\frontend\\src\\views\\OrderOptions.vue?vue&type=style&index=0&id=7d546f7b&scoped=true&lang=css&","dependencies":[{"path":"D:\\IT\\CapriApp\\frontend\\src\\views\\OrderOptions.vue","mtime":1598808463006},{"path":"D:\\IT\\CapriApp\\frontend\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\IT\\CapriApp\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\IT\\CapriApp\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\IT\\CapriApp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IT\\CapriApp\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n      .darkBackground {\n    background-color: #49b3cd\n  }\n\n  .darkColor {\n    color: #49b3cd\n  }\n\n  .lightColour {\n  color:#55d6d0;\n}\n    .lightBackground {\n        background-color: #55d6d0;\n    }\n\n.headerArea {\n    background-color: #49b3cd;\n}\n",{"version":3,"sources":["OrderOptions.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyIA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"OrderOptions.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"headerArea fixed-top\">\r\n            <div class=\"d-flex justify-content-around my-2\"> \r\n                <h5 style=\"color:white\">Capri Cove</h5>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"d-flex justify-content-center m-3\">\r\n            <div class=\"mx-2\">\r\n                <div class=\"lightBackground p-2 rounded\" v-on:click=\"setMode('delivery')\">\r\n                    <p class=\"text-center my-auto\" style=\"color:white\">Delivery</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"mx-2\">\r\n                <div class=\"lightBackground p-2 rounded\" v-on:click=\"setMode('takeaway')\">\r\n                    <p class=\"text-center my-auto\" style=\"color:white\">Takeaway</p>\r\n                </div>\r\n            </div >\r\n            <div class=\"mx-2\">\r\n                <div class=\"p-2 rounded\" style=\"background-color:lightgrey\">\r\n                    <p class=\"text-center my-auto\" style=\"color:white\">Reservation</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"container my-2\">\r\n            <label>Your delivery location</label>\r\n            <div class=\"d-flex justify-content-between\">\r\n                <vue-google-autocomplete\r\n                    id=\"map\"\r\n                    classname=\"form-control\"\r\n                    v-bind:placeholder=\"$parent.deliveryInfo.destination\"\r\n                    v-on:placechanged=\"getAddressData\"\r\n                    country=\"th\"\r\n                >\r\n                </vue-google-autocomplete>\r\n                <a href=\"#\" @click.prevent=\"requestLocation()\" class=\"my-auto\">\r\n                    <i class=\"fas fa-map-marker-alt my-auto lightColour mx-3 my-auto\"></i>\r\n                </a>\r\n            </div>\r\n            <p class=\"text-muted\" style=\"font-size:0.5rem\">{{$parent.deliveryInfo.destination}}</p>\r\n        </div>\r\n\r\n        <nav-bar />\r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport VueGoogleAutocomplete from 'vue-google-autocomplete'\r\nimport NavBar from '../components/NavBar'\r\n\r\nexport default {\r\n    components: {\r\n        VueGoogleAutocomplete,\r\n        NavBar\r\n    },\r\n    name: \"OrderOptions\",\r\n    data () {\r\n        return {\r\n            useGps: true,\r\n            addressData: {},\r\n            address: \"\"\r\n        }\r\n    },\r\n    methods: {\r\n        setMode(mode){\r\n            this.$parent.orderMode = mode\r\n            this.$router.push({name: \"home\"})\r\n        },\r\n        getAddressData(addressData, placeResultData) {\r\n            this.addressData = addressData;\r\n            this.$parent.latitude = addressData.latitude\r\n            this.$parent.longitude = addressData.longitude\r\n            this.placeResultData = placeResultData\r\n            this.address = placeResultData.formatted_address\r\n            window.console.log(addressData)\r\n            window.console.log(placeResultData)\r\n        },\r\n        requestLocation(){\r\n            if (navigator.geolocation) {\r\n          navigator.geolocation.getCurrentPosition(this.savePosition , \r\n            function showError(error) {\r\n            switch(error.code) {\r\n              case error.PERMISSION_DENIED:\r\n                this.$parent.deliveryInfo = {}\r\n                break;\r\n              case error.POSITION_UNAVAILABLE:\r\n                this.$parent.deliveryInfo = {}\r\n                break;\r\n              case error.TIMEOUT:\r\n                this.$parent.deliveryInfo = {}\r\n                break;\r\n              case error.UNKNOWN_ERROR:\r\n                this.$parent.deliveryInfo = {}\r\n                break;\r\n            }\r\n});\r\n        } else {\r\n            window.console.log(\"Geolocation is not supported by this browser.\")\r\n            this.$parent.deliveryInfo = {}\r\n        }\r\n        },\r\n        savePosition(position) {\r\n            this.$parent.latitude = position.coords.latitude\r\n            this.$parent.longitude = position.coords.longitude\r\n            window.console.log(this.$parent.latitude)\r\n\r\n            //do other stuff\r\n\r\n            this.axios.post('https://capriapp-backend.herokuapp.com/processor/get_delivery_fee', {\r\n            latitude: this.$parent.latitude,\r\n            longitude: this.$parent.longitude\r\n            })\r\n            .then(res => {\r\n            window.console.log(res.data)\r\n            this.$parent.deliveryInfo = res.data\r\n\r\n            if (this.$parent.deliveryInfo.destination.length > 50){\r\n            this.$parent.deliveryInfo.shortenedAddress = this.$parent.deliveryInfo.destination.substring(0, 50) + \"...\"\r\n            }\r\n            else (this.$parent.deliveryInfo.shortenedAddress = this.$parent.deliveryInfo.destination)\r\n\r\n            this.address = this.$parent.deliveryInfo.destination\r\n\r\n            }\r\n            )\r\n            .catch(function (error) {window.console.log(error)});\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n      .darkBackground {\r\n    background-color: #49b3cd\r\n  }\r\n\r\n  .darkColor {\r\n    color: #49b3cd\r\n  }\r\n\r\n  .lightColour {\r\n  color:#55d6d0;\r\n}\r\n    .lightBackground {\r\n        background-color: #55d6d0;\r\n    }\r\n\r\n.headerArea {\r\n    background-color: #49b3cd;\r\n}\r\n</style>"]}]}