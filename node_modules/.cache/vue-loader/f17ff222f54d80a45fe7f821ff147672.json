{"remainingRequest":"D:\\IT\\CapriApp\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\IT\\CapriApp\\frontend\\src\\views\\OrderOptions.vue?vue&type=style&index=0&id=399dd84d&scoped=true&lang=css&","dependencies":[{"path":"D:\\IT\\CapriApp\\frontend\\src\\views\\OrderOptions.vue","mtime":1600437769909},{"path":"D:\\IT\\CapriApp\\frontend\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\IT\\CapriApp\\frontend\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\IT\\CapriApp\\frontend\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\IT\\CapriApp\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IT\\CapriApp\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.blueBox {\n    background-color: #55d6d0;\n}\n\n.blueBox p {\n    color:white\n}\n\n\n.background  {\n    background-image: url(\"/img/intro/intro1.jpg\");\n    background-size: cover;\n}\n\n\n",{"version":3,"sources":["OrderOptions.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8KA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA","file":"OrderOptions.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"fixed-top darkBackground\">\r\n            <div class=\"d-flex justify-content-around my-2\"> \r\n                <h5 style=\"color:white\">Capri Cove</h5>\r\n            </div>\r\n        </div>\r\n\r\n        <br>\r\n        <br>\r\n\r\n        <img src=\"/img/intro/intro1.jpg\" width=\"100%\" height=\"200px\" class=\"\">\r\n\r\n        \r\n\r\n        \r\n\r\n        <div class=\"container my-1\">\r\n            \r\n            <!-- <p class=\"text-muted\" style=\"font-size:0.5rem\">{{$parent.deliveryInfo.destination}}</p> -->\r\n\r\n\r\n            <div class=\"card my-4 shadowed\">\r\n                <div class=\"d-flex justify-content-between mediumBackground rounded p-2\">\r\n                    <div>\r\n                        <p class=\"mb-0\" style=\"font-size:12px;color:#d2dedb\">delivery fee</p>\r\n                        <div class=\"d-flex justify-content-start\">\r\n                            <p class=\"my-0\" style=\"font-size:30px;color:white\">à¸¿</p>\r\n                            <p class=\"my-0\" style=\"font-size:30px;font-weight:900;color:white\">{{$parent.deliveryInfo.deliveryFee}}</p>\r\n                        </div>\r\n                    </div>\r\n                    <p style=\"color:white\">{{$parent.deliveryInfo.duration.humanReadable}}</p>\r\n\r\n                </div>\r\n                \r\n                <div class=\"p-2\">\r\n                    <div class=\"d-flex justify-content-start\">\r\n                        <p class=\"mb-1 darkColour mr-2 my-auto\"><b>{{$parent.deliveryInfo.distance.humanReadable}}</b></p>\r\n                        <p class=\"text-secondary my-auto\" style=\"font-size:14px\">from Capri Cove</p>\r\n                    </div>\r\n\r\n                    <p class=\"mt-1\" style=\"font-size:12px;color:silver\">{{$parent.deliveryInfo.destination}}</p>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"mt-4\">\r\n                <p class=\"mb-0 ml-2 darkColour\"><b>Address</b></p>\r\n                <div class=\"d-flex justify-content-between my-1\">\r\n                    <vue-google-autocomplete\r\n                        id=\"map\"\r\n                        classname=\"form-control\"\r\n                        v-bind:placeholder=\"$parent.deliveryInfo.destination\"\r\n                        v-on:placechanged=\"getAddressData\"\r\n                        country=\"th\"\r\n                        ref=\"addressInput\"\r\n                    >\r\n                    </vue-google-autocomplete>\r\n                    <a href=\"#\" @click.prevent=\"requestLocation()\" class=\"my-auto\">\r\n                        <i class=\"fas fa-map-marker-alt my-auto darkColour mx-3 my-auto\"></i>\r\n                    </a>\r\n                </div>\r\n\r\n                \r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"d-flex justify-content-center my-2 fixed-bottom\">\r\n            <div class=\"m-2\">\r\n                <div class=\"darkBackground p-2 rounded\" v-on:click=\"setMode('delivery')\">\r\n                    <p class=\"text-center my-auto\" style=\"color:white\">Delivery</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"m-2\">\r\n                <div class=\"darkBackground p-2 rounded\" v-on:click=\"setMode('takeaway')\">\r\n                    <p class=\"text-center my-auto\" style=\"color:white\">Takeaway</p>\r\n                </div>\r\n            </div >\r\n        </div>\r\n        \r\n    </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport VueGoogleAutocomplete from 'vue-google-autocomplete'\r\nimport NavBar from '../components/NavBar'\r\n\r\nexport default {\r\n    components: {\r\n        VueGoogleAutocomplete,\r\n        NavBar\r\n    },\r\n    name: \"OrderOptions\",\r\n    data () {\r\n        return {\r\n            useGps: true,\r\n            addressData: {},\r\n            address: \"\"\r\n        }\r\n    },\r\n    methods: {\r\n        setMode(mode){\r\n            this.$parent.orderMode = mode\r\n            this.$router.push({name: \"home\"})\r\n        },\r\n        getAddressData(addressData, placeResultData) {\r\n            this.addressData = addressData;\r\n            this.$parent.latitude = addressData.latitude\r\n            this.$parent.longitude = addressData.longitude\r\n            this.placeResultData = placeResultData\r\n            this.address = placeResultData.formatted_address\r\n            this.$parent.getDeliveryFee(addressData.latitude, addressData.longitude)\r\n            window.console.log(addressData)\r\n            window.console.log(placeResultData)\r\n        },\r\n        requestLocation(){\r\n            this.$refs.addressInput.clear()\r\n            if (navigator.geolocation) {\r\n          navigator.geolocation.getCurrentPosition(this.savePosition , \r\n            function showError(error) {\r\n            switch(error.code) {\r\n              case error.PERMISSION_DENIED:\r\n                this.$parent.deliveryInfo = {}\r\n                break;\r\n              case error.POSITION_UNAVAILABLE:\r\n                this.$parent.deliveryInfo = {}\r\n                break;\r\n              case error.TIMEOUT:\r\n                this.$parent.deliveryInfo = {}\r\n                break;\r\n              case error.UNKNOWN_ERROR:\r\n                this.$parent.deliveryInfo = {}\r\n                break;\r\n            }\r\n});\r\n        } else {\r\n            window.console.log(\"Geolocation is not supported by this browser.\")\r\n            this.$parent.deliveryInfo = {}\r\n        }\r\n        },\r\n        savePosition(position) {\r\n            this.$parent.latitude = position.coords.latitude\r\n            this.$parent.longitude = position.coords.longitude\r\n            window.console.log(this.$parent.latitude)\r\n\r\n            //do other stuff\r\n\r\n            this.axios.post('https://capriapp-backend.herokuapp.com/processor/get_delivery_fee', {\r\n            latitude: this.$parent.latitude,\r\n            longitude: this.$parent.longitude\r\n            })\r\n            .then(res => {\r\n            window.console.log(res.data)\r\n            this.$parent.deliveryInfo = res.data\r\n\r\n            if (this.$parent.deliveryInfo.destination.length > 50){\r\n            this.$parent.deliveryInfo.shortenedAddress = this.$parent.deliveryInfo.destination.substring(0, 50) + \"...\"\r\n            }\r\n            else (this.$parent.deliveryInfo.shortenedAddress = this.$parent.deliveryInfo.destination)\r\n\r\n            this.address = this.$parent.deliveryInfo.destination\r\n\r\n            }\r\n            )\r\n            .catch(function (error) {window.console.log(error)});\r\n\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n\r\n    .blueBox {\r\n        background-color: #55d6d0;\r\n    }\r\n\r\n    .blueBox p {\r\n        color:white\r\n    }\r\n\r\n\r\n    .background  {\r\n        background-image: url(\"/img/intro/intro1.jpg\");\r\n        background-size: cover;\r\n    }\r\n\r\n\r\n</style>"]}]}