{"remainingRequest":"D:\\IT\\MUIC\\rapid\\customer\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\IT\\MUIC\\rapid\\customer\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\IT\\MUIC\\rapid\\customer\\src\\views\\Login.vue","mtime":1609344915702},{"path":"D:\\IT\\MUIC\\rapid\\customer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IT\\MUIC\\rapid\\customer\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\IT\\MUIC\\rapid\\customer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\IT\\MUIC\\rapid\\customer\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n    name: \"Login\",\r\n    data(){\r\n        return{\r\n            username: \"\",\r\n            password: \"\"\r\n        }\r\n    },\r\n    created(){\r\n        if (this.$parent.loggedIn){\r\n            this.$router.push({name: \"home\"})\r\n        }\r\n\r\n        \r\n    },\r\n    methods: {\r\n        login(){\r\n            this.axios.post(this.$parent.api + 'authenticate/authenticate', {\r\n                username: this.username,\r\n                password: this.password\r\n\r\n            })\r\n            .then(res => {\r\n                window.console.log(res.request.response)\r\n                var response = JSON.parse(res.request.response)\r\n                window.console.log(response.accessToken)\r\n                this.$parent.accessToken = response.accessToken\r\n                window.localStorage.setItem(\"accessToken\", response.accessToken)\r\n                this.$parent.refresherToken = response.refresherToken\r\n                window.localStorage.setItem(\"refresherToken\", response.refresherToken)\r\n                this.$parent.updateConfig()\r\n                // this.axios.defaults.headers.common['Authorization'] = 'Bearer ' + this.$parent.token;\r\n                // this.axios.defaults.headers.common['Access-Control-Allow-Origin'] = '*'\r\n                this.$router.push({name: \"openOrders\"})\r\n            })\r\n            .catch(function (error) {window.console.log(\"login failed\")});\r\n        }\r\n    }\r\n}\r\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"centered\">\r\n            <div class=\"d-flex justify-content-center mb-2\">\r\n                <label style=\"font-size:20px;color:#49b3cd\">Capri Cove Admin</label>\r\n            </div>\r\n            <div class=\"d-flex justify-content-center mb-2\">\r\n                <div class=\"my-auto\">\r\n                    <label class=\"my-2\">Username: </label>\r\n                    <label class=\"my-2\">Password: </label>\r\n                </div>\r\n                <div>\r\n                    <input type=\"username\" class=\"form-control ml-2\" id=\"exampleInputEmail1\" aria-describedby=\"username\" placeholder=\"username\" v-model=\"username\">\r\n                    <input type=\"password\" class=\"form-control ml-2\" id=\"exampleInputEmail1\" aria-describedby=\"password\" placeholder=\"password\" v-model=\"password\">\r\n                </div>\r\n            </div>\r\n            <div class=\"d-flex justify-content-center\">\r\n                <input class=\"btn btn-primary\" type=\"button\" value=\"Login\" v-on:click=\"login()\">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"Login\",\r\n    data(){\r\n        return{\r\n            username: \"\",\r\n            password: \"\"\r\n        }\r\n    },\r\n    created(){\r\n        if (this.$parent.loggedIn){\r\n            this.$router.push({name: \"home\"})\r\n        }\r\n\r\n        \r\n    },\r\n    methods: {\r\n        login(){\r\n            this.axios.post(this.$parent.api + 'authenticate/authenticate', {\r\n                username: this.username,\r\n                password: this.password\r\n\r\n            })\r\n            .then(res => {\r\n                window.console.log(res.request.response)\r\n                var response = JSON.parse(res.request.response)\r\n                window.console.log(response.accessToken)\r\n                this.$parent.accessToken = response.accessToken\r\n                window.localStorage.setItem(\"accessToken\", response.accessToken)\r\n                this.$parent.refresherToken = response.refresherToken\r\n                window.localStorage.setItem(\"refresherToken\", response.refresherToken)\r\n                this.$parent.updateConfig()\r\n                // this.axios.defaults.headers.common['Authorization'] = 'Bearer ' + this.$parent.token;\r\n                // this.axios.defaults.headers.common['Access-Control-Allow-Origin'] = '*'\r\n                this.$router.push({name: \"openOrders\"})\r\n            })\r\n            .catch(function (error) {window.console.log(\"login failed\")});\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.centered {\r\n   width: 280px;\r\n   height: 180px;\r\n   position: absolute;\r\n   top: 50%;\r\n   left: 50%;\r\n   margin-left: -140px;\r\n   margin-top: -90px;\r\n}\r\n\r\n.bordered {\r\n    border-style: solid;\r\n    border-color: black;\r\n}\r\n\r\n</style>"]}]}