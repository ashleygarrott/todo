(function(t){function e(e){for(var i,n,r=e[0],c=e[1],l=e[2],p=0,u=[];p<r.length;p++)n=r[p],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&u.push(a[n][0]),a[n]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(e);while(u.length)u.shift()();return s.push.apply(s,l||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],i=!0,r=1;r<o.length;r++){var c=o[r];0!==a[c]&&(i=!1)}i&&(s.splice(e--,1),t=n(n.s=o[0]))}return t}var i={},a={app:0},s=[];function n(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=i,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=c;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"07bb":function(t,e,o){},"09ad":function(t,e,o){},"0ac6":function(t,e,o){},1332:function(t,e,o){},1787:function(t,e,o){},"22d8":function(t,e,o){"use strict";var i=o("1332"),a=o.n(i);a.a},"23d3":function(t,e,o){"use strict";var i=o("0ac6"),a=o.n(i);a.a},"2d6b":function(t,e,o){"use strict";var i=o("fd69"),a=o.n(i);a.a},3222:function(t,e,o){},"34ba":function(t,e,o){"use strict";var i=o("7dbb"),a=o.n(i);a.a},"451e":function(t,e,o){"use strict";var i=o("d04a"),a=o.n(i);a.a},"48c8":function(t,e,o){"use strict";var i=o("09ad"),a=o.n(i);a.a},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("f751"),o("097d");var i,a=o("2b0e"),s=o("7d48"),n=o("5f5b"),r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"d-flex flex-column h-100",attrs:{id:"app"}},[o("error"),o("div",{staticClass:"mt-5"},[o("router-view"),o("div",{staticClass:"pageBottom"})],1)],1)},c=[],l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"fixed-bottom",attrs:{id:"footer"}},[o("div",{staticClass:"navBar"},[o("div",{staticClass:"row my-auto",attrs:{id:"bottomNav"}},[o("div",{staticClass:"col-3 text-center mt-1"},[o("router-link",{staticStyle:{color:"none"},attrs:{to:{name:"home"}}},[o("i",{staticClass:"fas fa-home navIcon lightColour"}),o("p",{staticClass:"navbarText mb-1 lightColour"},[t._v("Home")])])],1),o("div",{staticClass:"col-3 text-center mt-1"},[o("router-link",{staticStyle:{color:"none"},attrs:{to:{name:"cart"}}},[o("i",{staticClass:"fas fa-shopping-cart navIcon lightColour"}),o("p",{staticClass:"navbarText mb-1 lightColour"},[t._v("Cart")])])],1),o("div",{staticClass:"col-3 text-center mt-1"},[o("router-link",{staticStyle:{color:"none"},attrs:{to:{name:"support"}}},[o("i",{staticClass:"fas fa-question navIcon lightColour"}),o("p",{staticClass:"navbarText mb-1 lightColour"},[t._v("Support")])])],1),o("div",{staticClass:"col-3 text-center mt-1"},[o("router-link",{staticStyle:{color:"none"},attrs:{to:{name:"account"}}},[o("i",{staticClass:"fas fa-user navIcon lightColour"}),o("p",{staticClass:"navbarText mb-1 lightColour"},[t._v("Account")])])],1)])])])},d=[],p={name:"NavBar",methods:{login:function(){this.$auth.loginWithRedirect()},logout:function(){this.$auth.logout(),this.$router.push({path:"/"})}}},u=p,m=(o("34ba"),o("2877")),h=Object(m["a"])(u,l,d,!1,null,null,null),y=h.exports,f=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.msg?o("div",{staticClass:"alert alert-danger alert-dismissible"},[t._v("\n  "+t._s(t.msg)+"\n  "),t._m(0)]):t._e()},v=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[o("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])}],g={name:"Error",computed:{msg:function(){return this.$auth.error}}},C=g,_=Object(m["a"])(C,f,v,!1,null,null,null),x=_.exports,b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"row searchBar lightBackground"},[o("div",{staticClass:"col-2 d-flex justify-content-center my-auto"},[o("a",{staticStyle:{color:"white"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$router.go(-1)}}},[o("i",{staticClass:"fas fa-chevron-left my-auto",staticStyle:{color:"white"}})])]),o("div",{staticClass:"col-8 d-flex justify-content-center my-1"},[o("div",{staticClass:"input-group col-md-4"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKey,expression:"searchKey"}],staticClass:"form-control border-right-0 border",attrs:{type:"search",id:"example-search-input",placeholder:"Search"},domProps:{value:t.searchKey},on:{input:function(e){e.target.composing||(t.searchKey=e.target.value)}}}),o("span",{staticClass:"input-group-append"},[o("button",{staticClass:"btn btn-outline-secondary border-left-0 border",staticStyle:{"background-color":"white"},attrs:{type:"button"},on:{click:function(e){return t.search()}}},[o("i",{staticClass:"fa fa-search lightColour",staticStyle:{"background-color":"white"}})])])])]),t._m(0)])},w=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"col-2 d-flex justify-content-center my-auto"},[o("div",{staticClass:"pr-5"},[o("p",{staticClass:"my-auto",staticStyle:{color:"white"}},[t._v("Profile")])])])}],k={name:"SearchBar",methods:{login:function(){this.$auth.loginWithRedirect()},logout:function(){this.$auth.logout(),this.$router.push({path:"/"})},search:function(){this.$router.push({name:"search",params:{searchKey:this.searchKey}})}}},S=k,N=(o("6a79"),Object(m["a"])(S,b,w,!1,null,"5fe06557",null)),$=N.exports,P={components:{NavBar:y,Error:x,SearchBar:$},data:function(){return{latitude:0,longitude:0,orderMode:"",orders:[],productTotal:0,orderTotal:0,deliveryInfo:{deliveryFee:0,destination:"",distance:{humanReadable:"",inMeters:0},duration:{humanReadable:"",inSeconds:0},shortenedAddress:"Click here to change your delivery location"},loggedIn:!1,username:"",password:"",accessToken:"",refresherToken:"",config:{},api:"https://capriapp-backend.herokuapp.com/"}},created:function(){null!=window.localStorage.getItem("orderMode")&&(this.orderMode=window.localStorage.getItem("orderMode")),null!=window.localStorage.getItem("orders")&&(this.orders=JSON.parse(window.localStorage.getItem("orders")),window.console.log("orders: "+this.orders)),null!=window.localStorage.getItem("deliveryInfo")&&(this.deliveryInfo=window.localStorage.getItem("deliveryInfo")),navigator.geolocation?navigator.geolocation.getCurrentPosition(this.savePosition,(function(t){switch(t.code){case t.PERMISSION_DENIED:this.deliveryInfo={};break;case t.POSITION_UNAVAILABLE:this.deliveryInfo={};break;case t.TIMEOUT:this.deliveryInfo={};break;case t.UNKNOWN_ERROR:this.deliveryInfo={};break}})):(window.console.log("Geolocation is not supported by this browser."),this.deliveryInfo={}),this.accessToken=localStorage.getItem("accessToken"),window.console.log(this.accessToken),this.refresherToken=localStorage.getItem("refresherToken"),window.console.log(this.refresherToken),this.updateConfig()},mounted:function(){},methods:{savePosition:function(t){this.latitude=t.coords.latitude,this.longitude=t.coords.longitude,this.getDeliveryFee(this.latitude,this.longitude),window.console.log(this.latitude)},setCoordinates:function(t,e){this.latitude=t,this.longitude=e},getDeliveryFee:function(t,e){var o=this;this.axios.post(this.api+"processor/get_delivery_fee",{latitude:t,longitude:e}).then((function(t){window.console.log(t.data),o.deliveryInfo=t.data,o.deliveryInfo.destination.length>50?o.deliveryInfo.shortenedAddress=o.deliveryInfo.destination.substring(0,50)+"...":o.deliveryInfo.shortenedAddress=o.deliveryInfo.destination})).catch((function(t){window.console.log(t)}))},acceptOrder:function(t){var e=this;this.axios.post(this.api+"order/confirm_order",{orderId:t.orderId}).then((function(o){window.console.log(o.data),"success"==o.data&&(t.status="confirmed",e.$forceUpdate())}))},declineOrder:function(t){var e=this;this.axios.post(this.api+"order/decline_order",{orderId:t.orderId}).then((function(o){"success"==o.data&&(t.status="canceled",e.$forceUpdate())}))},getNewAccessToken:function(){var t=this;window.console.log(this.refresherToken),this.axios.post(this.api+"authenticate/token",{string:this.refresherToken}).then((function(e){window.console.log(e.data),t.accessToken=e.data.accessToken,window.localStorage.setItem("accessToken",e.data.accessToken)})).catch((function(t){window.console.log("GetNewAccessToken failed")}))},updateConfig:function(){this.config={headers:{Authorization:"Bearer "+this.accessToken,"Access-Control-Allow-Origin":"*"}}}}},I=P,O=(o("7acb"),o("b0a0"),Object(m["a"])(I,r,c,!1,null,"d51f7d78",null)),T=O.exports,A=o("8c4f"),j=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div")},D=[],E={name:"Root",data:function(){return{}},created:function(){this.$router.push({name:"home"})}},z=E,M=Object(m["a"])(z,j,D,!1,null,null,null),B=M.exports,q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"fixed-top"},[t.deliveryInfo!={}?o("div",{staticClass:"locationBar",staticStyle:{"background-color":"white"}},[o("router-link",{attrs:{to:{name:"orderOptions"}}},[o("div",{staticClass:"d-flex justify-content-center p-0"},[o("i",{staticClass:"fas fa-map-marker-alt my-auto lightColour mr-2 my-auto",staticStyle:{"font-size":"10px"}}),o("p",{staticClass:"my-1 p-0",staticStyle:{color:"grey","font-size":"10px"}},[o("b",[t._v(t._s(t.deliveryInfo.shortenedAddress))])])])]),o("router-link",{attrs:{to:{name:"editLocation"}}},[t.deliveryInfo=={}&&"delivery"==t.deliveryMode?o("div",[o("p",{staticStyle:{color:"grey","font-size":"0.7rem"}},[o("b",[t._v("Click here to choose delivery destination")])])]):t._e()])],1):t._e(),o("div",{staticClass:"row lightBackground"},[o("div",{staticClass:"col-2 d-flex justify-content-center my-auto"},[o("a",{staticStyle:{color:"white"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$router.go(-1)}}},[o("i",{staticClass:"fas fa-chevron-left my-auto",staticStyle:{color:"white"}})])]),o("div",{staticClass:"col-8 d-flex justify-content-center my-1"},[o("div",{staticClass:"input-group col-md-4"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKey,expression:"searchKey"}],staticClass:"form-control border-right-0 border",attrs:{type:"search",id:"example-search-input",placeholder:"Search"},domProps:{value:t.searchKey},on:{input:function(e){e.target.composing||(t.searchKey=e.target.value)}}}),o("span",{staticClass:"input-group-append"},[o("button",{staticClass:"btn btn-outline-secondary border-left-0 border",staticStyle:{"background-color":"white"},attrs:{type:"button"},on:{click:function(e){return t.search()}}},[o("i",{staticClass:"fa fa-search lightColour",staticStyle:{"background-color":"white"}})])])])]),o("div",{staticClass:"col-2 d-flex justify-content-center my-auto"},[o("div",{staticClass:"pr-5"},[o("router-link",{attrs:{to:{name:"orderOptions"}}},[o("i",{staticClass:"fas fa-map-marker-alt my-auto",staticStyle:{color:"white"}})])],1)])])]),o("div",{staticClass:"d-flex flex-column h-100 mt-4"},[o("div",{staticClass:"whiteCard"},[o("img",{staticClass:"rounded mt-1 mx-3",attrs:{src:"/img/intro/intro2.jpg",height:t.windowWidth/2.33+"px",width:.9*t.windowWidth+"px"}})]),o("div",{staticClass:"whiteCard"},[o("div",{staticClass:"mx-3 mt-3"},[o("div",{staticClass:"my-3"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-3"},[o("router-link",{attrs:{to:{name:"category",params:{categoryName:"Pizza"}}}},[o("div",{staticClass:"d-flex justify-content-center"},[o("div",{staticClass:"d-flex justify-content-center categoryImage shadowed circled p-1",staticStyle:{width:"50px",height:"50px"}},[o("img",{staticClass:"my-auto",attrs:{src:"/img/icons/icon_pizza.png"}})])]),o("div",[o("p",{staticClass:"categoryText text-center darkColour"},[t._v(" Pizza ")])])])],1),o("div",{staticClass:"col-3"},[o("router-link",{attrs:{to:{name:"category",params:{categoryName:"Pasta"}}}},[o("div",{staticClass:"d-flex justify-content-center"},[o("div",{staticClass:"d-flex justify-content-center categoryImage shadowed circled p-1",staticStyle:{width:"50px",height:"50px"}},[o("img",{staticClass:"my-auto",attrs:{src:"/img/icons/icon_pasta.png"}})])]),o("div",[o("p",{staticClass:"categoryText  text-center darkColour"},[t._v(" Pasta ")])])])],1),o("div",{staticClass:"col-3"},[o("router-link",{attrs:{to:{name:"category",params:{categoryName:"Thai"}}}},[o("div",{staticClass:"d-flex justify-content-center"},[o("div",{staticClass:"d-flex justify-content-center categoryImage shadowed circled p-1",staticStyle:{width:"50px",height:"50px"}},[o("img",{staticClass:"my-auto",attrs:{src:"/img/icons/icon_thai_food.png"}})])]),o("div",[o("p",{staticClass:"categoryText  text-center darkColour"},[t._v(" Thai ")])])])],1),o("div",{staticClass:"col-3"},[o("router-link",{attrs:{to:{name:"category",params:{categoryName:"Salad"}}}},[o("div",{staticClass:"d-flex justify-content-center"},[o("div",{staticClass:"d-flex justify-content-center categoryImage shadowed circled p-1",staticStyle:{width:"50px",height:"50px"}},[o("img",{staticClass:"my-auto",attrs:{src:"/img/icons/icon_salad.png"}})])]),o("div",[o("p",{staticClass:"categoryText  text-center darkColour"},[t._v(" Salad ")])])])],1),o("div",{staticClass:"col-3"},[o("router-link",{attrs:{to:{name:"category",params:{categoryName:"Grilled bread"}}}},[o("div",{staticClass:"d-flex justify-content-center"},[o("div",{staticClass:"d-flex justify-content-center categoryImage shadowed circled p-1",staticStyle:{width:"50px",height:"50px"}},[o("img",{staticClass:"my-auto",attrs:{src:"/img/icons/icon_grilled_bread.png"}})])]),o("div",[o("p",{staticClass:"categoryText  text-center darkColour"},[t._v("Bread ")])])])],1),o("div",{staticClass:"col-3"},[o("router-link",{attrs:{to:{name:"category",params:{categoryName:"Appetizer"}}}},[o("div",{staticClass:"d-flex justify-content-center"},[o("div",{staticClass:"d-flex justify-content-center categoryImage shadowed circled p-1",staticStyle:{width:"50px",height:"50px"}},[o("img",{staticClass:"my-auto",attrs:{src:"/img/icons/icon_appetizer.png"}})])]),o("div",[o("p",{staticClass:"categoryText  text-center darkColour"},[t._v(" Appetizer ")])])])],1),o("div",{staticClass:"col-3"},[o("router-link",{attrs:{to:{name:"category",params:{categoryName:"Drinks"}}}},[o("div",{staticClass:"d-flex justify-content-center"},[o("div",{staticClass:"d-flex justify-content-center categoryImage shadowed circled p-1",staticStyle:{width:"50px",height:"50px"}},[o("img",{staticClass:"my-auto",attrs:{src:"/img/icons/icon_drinks.png"}})])]),o("div",[o("p",{staticClass:"categoryText  text-center darkColour"},[t._v(" Drinks ")])])])],1),o("div",{staticClass:"col-3"},[o("router-link",{attrs:{to:{name:"category",params:{categoryName:"Special"}}}},[o("div",{staticClass:"d-flex justify-content-center"},[o("div",{staticClass:"d-flex justify-content-center categoryImage shadowed circled p-1",staticStyle:{width:"50px",height:"50px"}},[o("img",{staticClass:"my-auto",attrs:{src:"/img/icons/icon_specials.png"}})])]),o("div",[o("p",{staticClass:"categoryText  text-center darkColour"},[t._v("Special")])])])],1)])])])]),o("div",{staticClass:"top-products-area clearfix"},[o("div",{staticClass:"whiteCard"},[t._m(0),o("div",{staticClass:"container-fluid mx-0 my-2"},[o("div",{staticClass:"d-flex flex-row flex-nowrap scrolling-wrapper mx-0 h-100"},t._l(t.topProductCards,(function(e,i){return o("router-link",{key:i,staticClass:"h-100 mx-0",attrs:{to:{name:"menu",params:{menuId:e.id}}}},[o("div",{staticClass:"card topProductCard shadowed scrollCard mx-1 px-0"},[o("img",{staticClass:"card-img-top roundedImage",staticStyle:{height:"130px","object-fit":"cover"},attrs:{src:"/img/menus/"+e.src,alt:"Card image cap"},on:{error:function(t){t.target.src="/img/404.png"}}}),o("div",{staticClass:"card-body"},[o("p",{staticClass:"text-center mt-2  mb-0 darkColour",staticStyle:{"font-size":"18px"}},[o("b",[t._v(t._s(e.name))])]),o("p",{staticClass:"text-center text-muted mt-3 mb-0",staticStyle:{"font-size":"12px"}},[t._v(t._s(e.thaiDescription))]),o("p",{staticClass:"text-center text-muted mt-1",staticStyle:{"font-size":"10px"}},[t._v(t._s(e.englishDescription))]),null==e.promotionType?o("p",{staticClass:"text-center mediumColour mt-3 mb-2",staticStyle:{"font-size":"24px"}},[t._v("฿"),o("b",[t._v(t._s(e.displayPrice))])]):t._e(),null!=e.promotionType?o("p",{staticClass:"text-center mt-3 mb-2",staticStyle:{"font-size":"24px",color:"mediumseagreen"}},[t._v("฿"),o("b",[t._v(t._s(e.promotionDisplayPrice))])]):t._e(),"percent"==e.promotionType?o("p",{staticClass:"my-0 text-right",staticStyle:{"font-size":"0.8rem",color:"mediumseagreen"}},[o("b",[t._v("-"+t._s(e.promotionAmount)+"%")])]):t._e(),"amount"==e.promotionType?o("p",{staticClass:"my-0 text-right",staticStyle:{"font-size":"0.8rem",color:"mediumseagreen"}},[o("b",[t._v("-฿"+t._s(e.promotionAmount))])]):t._e()])])])})),1)])]),o("div",{staticClass:"whiteCard"},[t._m(1),o("div",{staticClass:"container-fluid mx-0 my-2"},[o("div",{staticClass:"d-flex flex-row flex-nowrap scrolling-wrapper mx-0 h-100"},t._l(t.promotedMenus,(function(e,i){return o("router-link",{key:i,staticClass:"h-100 mx-0",attrs:{to:{name:"menu",params:{menuId:e.id}}}},[o("div",{staticClass:"card topProductCard shadowed scrollCard mx-1 px-0"},[o("img",{staticClass:"card-img-top roundedImage",staticStyle:{height:"130px","object-fit":"cover"},attrs:{src:"/img/menus/"+e.src,alt:"Card image cap"},on:{error:function(t){t.target.src="/img/404.png"}}}),o("div",{staticClass:"card-body"},[o("p",{staticClass:"text-center mt-2  mb-0 darkColour",staticStyle:{"font-size":"18px"}},[o("b",[t._v(t._s(e.name))])]),o("p",{staticClass:"text-center text-muted mt-3 mb-0",staticStyle:{"font-size":"12px"}},[t._v(t._s(e.thaiDescription))]),o("p",{staticClass:"text-center text-muted mt-1",staticStyle:{"font-size":"10px"}},[t._v(t._s(e.englishDescription))]),null==e.promotionType?o("p",{staticClass:"text-center mediumColour mt-3 mb-2",staticStyle:{"font-size":"24px"}},[t._v("฿"),o("b",[t._v(t._s(e.displayPrice))])]):t._e(),null!=e.promotionType?o("p",{staticClass:"text-center mt-3 mb-2",staticStyle:{"font-size":"24px",color:"mediumseagreen"}},[t._v("฿"),o("b",[t._v(t._s(e.promotionDisplayPrice))])]):t._e(),"percent"==e.promotionType?o("p",{staticClass:"my-0 text-right",staticStyle:{"font-size":"0.8rem",color:"mediumseagreen"}},[o("b",[t._v("-"+t._s(e.promotionAmount)+"%")])]):t._e(),"amount"==e.promotionType?o("p",{staticClass:"my-0 text-right",staticStyle:{"font-size":"0.8rem",color:"mediumseagreen"}},[o("b",[t._v("-฿"+t._s(e.promotionAmount))])]):t._e()])])])})),1)])])])]),o("div",{staticClass:"fixed-bottom",attrs:{id:"footer"}},[o("div",{staticClass:"navBar"},[o("div",{staticClass:"row my-auto",attrs:{id:"bottomNav"}},[o("div",{staticClass:"col-3 text-center mt-1"},[o("router-link",{staticStyle:{color:"none"},attrs:{to:{name:"home"}}},[o("i",{staticClass:"fas fa-home navIcon mediumColour"}),o("p",{staticClass:"navbarText mb-1 mediumColour"},[t._v("Home")])])],1),o("div",{staticClass:"col-3 text-center mt-1"},[o("router-link",{staticStyle:{color:"none"},attrs:{to:{name:"cart"}}},[o("i",{staticClass:"fas fa-shopping-cart navIcon lightColour"}),o("p",{staticClass:"navbarText mb-1 lightColour"},[t._v("Cart")])])],1),o("div",{staticClass:"col-3 text-center mt-1"},[o("router-link",{staticStyle:{color:"none"},attrs:{to:{name:"support"}}},[o("i",{staticClass:"fas fa-question navIcon lightColour"}),o("p",{staticClass:"navbarText mb-1 lightColour"},[t._v("Support")])])],1),o("div",{staticClass:"col-3 text-center mt-1"},[o("router-link",{staticStyle:{color:"none"},attrs:{to:{name:"account"}}},[o("i",{staticClass:"fas fa-user navIcon lightColour"}),o("p",{staticClass:"navbarText mb-1 lightColour"},[t._v("Account")])])],1)])])])])},R=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"section-heading d-flex align-items-center justify-content-between "},[o("div",{staticClass:"row mx-3"},[o("p",{staticClass:"ml-2 mb-0 darkColour",staticStyle:{"font-size":"20px"}},[o("b",[t._v("Most popular")])])])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"section-heading d-flex align-items-center justify-content-between "},[o("div",{staticClass:"row mx-3"},[o("p",{staticClass:"ml-2 mb-0 mt-2 darkColour",staticStyle:{"font-size":"20px"}},[o("b",[t._v("Promotions")])])])])}],L=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"headerArea headerColour fixed-top",attrs:{id:"headerArea"}},[o("location-bar"),o("search-bar")],1)},K=[],F=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.deliveryInfo!={}?o("div",{staticClass:"locationBar"},[o("div",{staticClass:"d-flex justify-content-center text-center p-0"},[o("p",{staticClass:"my-1 p-0",staticStyle:{color:"grey","font-size":"0.7rem"}},[o("b",[t._v(t._s(t.deliveryInfo.shortenedAddress))])])]),t.deliveryInfo=={}?o("div",[t._m(0)]):t._e()]):t._e()},U=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("p",{staticStyle:{color:"grey","font-size":"0.7rem"}},[o("b",[t._v("We can not yet determine your location")])])}],W={name:"LocationBar",data:function(){return{deliveryInfo:{deliveryFee:0,destination:"",distance:{humanReadable:"",inMeters:0},duration:{humanReadable:"",inSeconds:0},shortenedAddress:"no address currently"}}},created:function(){window.console.log(this.$parent),this.deliveryInfo=this.$parent.deliveryInfo}},G=W,J=(o("93a9"),Object(m["a"])(G,F,U,!1,null,"a01b5c58",null)),V=J.exports,H={name:"HomeHeader",components:{SearchBar:$,LocationBar:V},data:function(){return{deliveryInfo:{deliveryFee:0,destination:"",distance:{humanReadable:"",inMeters:0},duration:{humanReadable:"",inSeconds:0},shortenedAddress:"sample destination"}}},created:function(){this.deliveryInfo=this.$parent.deliveryInfo}},Q=H,Y=(o("d5d7"),Object(m["a"])(Q,L,K,!1,null,"37c7312f",null)),X=Y.exports,Z=o("6aac"),tt=o("1947"),et=o("e6c7"),ot={components:{HomeHeader:X,NavBar:y,BModal:Z["a"],BButton:tt["a"],VBModal:et["a"]},name:"Test",data:function(){return{windowWidth:window.innerWidth,searchKey:"",address:"",useGps:!0,mode:"delivery",topProductCards:[],promotedMenus:[],deliveryInfo:{deliveryFee:0,destination:"",distance:{humanReadable:"",inMeters:0},duration:{humanReadable:"",inSeconds:0}},shortenedAddress:"sample destination"}},created:function(){this.isValidOrderMode(this.$route.params.orderMode)||this.$router.push({name:"orderOptions",params:{redirect:!0}}),this.deliveryInfo=this.$parent.deliveryInfo},mounted:function(){var t=this;this.axios.get(this.$parent.api+"menu/get_all_menus").then((function(e){t.topProductCards=e.data,window.console.log(t.topProductCards)})).catch((function(t){window.console.log(t)})),this.axios.get(this.$parent.api+"menu/get_promoted_menus").then((function(e){t.promotedMenus=e.data,window.console.log(t.promotedMenus)})).catch((function(t){window.console.log(t)})),window.console.log(this.$auth)},methods:{setMode:function(t){this.mode=t,this.$parent.orderMode=t},search:function(){this.$router.push({name:"search",params:{searchKey:this.searchKey}})},isValidOrderMode:function(t){return"delivery"==t||("takeaway"==t||"dinein"==t)}}},it=ot,at=(o("9f27"),Object(m["a"])(it,q,R,!1,null,"323bacae",null)),st=at.exports,nt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticClass:"row align-items-center profile-header"},[o("div",{staticClass:"col-md-2 mb-3"},[o("img",{staticClass:"rounded-circle img-fluid profile-picture",attrs:{src:t.$auth.user.picture,alt:"User's profile picture"}})]),o("div",{staticClass:"col-md text-center text-md-left"},[o("h2",[t._v(t._s(t.$auth.user.name))]),o("p",{staticClass:"lead text-muted"},[t._v(t._s(t.$auth.user.email))])])]),o("div",{staticClass:"row"},[o("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs",value:JSON.stringify(t.$auth.user,null,2),expression:"JSON.stringify($auth.user, null, 2)"}],staticClass:"rounded w-100"},[o("code",{staticClass:"json"})])])])},rt=[],ct={},lt=Object(m["a"])(ct,nt,rt,!1,null,null,null),dt=lt.exports,pt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},ut=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("p",[t._v(" added to tables ")])])}],mt={name:"Test",mounted:function(){this.axios.get(this.$parent.api+"test/add_menus")}},ht=mt,yt=Object(m["a"])(ht,pt,ut,!1,null,null,null),ft=yt.exports,vt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{"background-color":"#f5f5f5"}},[o("div",{staticClass:"fixed-top",attrs:{id:"header"}},[o("div",{staticClass:"row lightBackground"},[o("div",{staticClass:"col-2 d-flex justify-content-center my-auto"},[o("a",{staticStyle:{color:"white"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$router.go(-1)}}},[o("i",{staticClass:"fas fa-chevron-left my-auto",staticStyle:{color:"white"}})])]),o("div",{staticClass:"col-8 d-flex justify-content-center my-1"},[o("div",{staticClass:"input-group col-md-4"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKey,expression:"searchKey"}],staticClass:"form-control border-right-0 border",attrs:{type:"search",id:"example-search-input",placeholder:"Search"},domProps:{value:t.searchKey},on:{input:function(e){e.target.composing||(t.searchKey=e.target.value)}}}),o("span",{staticClass:"input-group-append"},[o("button",{staticClass:"btn btn-outline-secondary border-left-0 border",staticStyle:{"background-color":"white"},attrs:{type:"button"},on:{click:function(e){return t.search()}}},[o("i",{staticClass:"fa fa-search lightColour",staticStyle:{"background-color":"white"}})])])])]),o("div",{staticClass:"col-2 d-flex justify-content-center my-auto"},[o("div",{staticClass:"pr-5"},[o("router-link",{attrs:{to:{name:"orderOptions"}}},[o("i",{staticClass:"fas fa-map-marker-alt my-auto",staticStyle:{color:"white"}})])],1)])])]),o("img",{staticStyle:{width:"100%","border-radius":"0% 0% 1% 1%"},attrs:{src:"/img/menus/"+t.menu.src}}),o("div",{staticClass:"whiteCard my-1 p-2"},[o("div",{staticClass:"d-flex justify-content-between mx-2"},[o("p",{staticClass:"darkColour mt-0 mb-0",staticStyle:{"font-size":"20px"}},[o("b",[t._v(t._s(t.menu.name))])]),o("p",{staticClass:"mediumColour mt-0 mb-0 mx-0",staticStyle:{"font-size":"24px"}},[t._v("฿"),o("b",[t._v(t._s(this.displayPrice))])])]),o("div",{staticClass:"mx-2"},[o("p",{staticClass:"text-muted mt-2 mb-0",staticStyle:{"font-size":"14px"}},[t._v(t._s(t.menu.thaiDescription))]),o("p",{staticClass:"text-muted mt-1",staticStyle:{"font-size":"12px"}},[t._v(t._s(t.menu.englishDescription))])])]),null!=t.optionCategory1?o("div",{staticClass:"p-3 whiteCard my-1"},[o("div",{staticClass:"form-group  my-0"},[o("p",{staticClass:"optionTitle"},[o("b",[t._v(t._s(t.optionCategory1.optionCategoryName))])]),t._l(t.optionCategory1.options.slice(0,t.optionCategory1.options.length-1),(function(e,i){return o("div",{key:i,on:{click:function(o){t.option1Selected=e.optionName,t.updateDisplayPrice()}}},[o("div",{staticClass:"form-check my-0"},[o("div",{staticClass:"d-flex justify-content-between"},[o("div",{staticClass:"radioContainer"},[o("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios1"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.option1Selected,expression:"option1Selected"}],staticClass:"form-check-input",attrs:{type:"radio",name:"optionCategory1"},domProps:{value:e.optionName,checked:t._q(t.option1Selected,e.optionName)},on:{change:[function(o){t.option1Selected=e.optionName},function(e){return t.updateDisplayPrice()}]}}),o("span",{staticClass:"checkmark my-auto"}),e.optionName==t.option1Selected?o("p",{staticClass:"mx-3 my-0 text-muted"},[o("b",[t._v(t._s(e.optionName))])]):t._e(),e.optionName!=t.option1Selected?o("p",{staticClass:"mx-3 my-0 text-muted"},[t._v(t._s(e.optionName))]):t._e()])]),o("div",[e.optionName==t.option1Selected?o("p",{staticClass:"my-0 text-muted"},[o("b",[t._v(t._s(e.optionPrice))])]):t._e(),e.optionName!=t.option1Selected?o("p",{staticClass:"my-0 text-muted"},[t._v(t._s(e.optionPrice))]):t._e()])])]),o("hr")])})),o("div",{on:{click:function(e){t.option1Selected=t.optionCategory1.options[t.optionCategory1.options.length-1].optionName,t.updateDisplayPrice()}}},[o("div",{staticClass:"form-check my-0"},[o("div",{staticClass:"d-flex justify-content-between"},[o("div",{staticClass:"radioContainer"},[o("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios1"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.option1Selected,expression:"option1Selected"}],staticClass:"form-check-input",attrs:{type:"radio",name:"optionCategory1"},domProps:{value:t.optionCategory1.options[t.optionCategory1.options.length-1].optionName,checked:t._q(t.option1Selected,t.optionCategory1.options[t.optionCategory1.options.length-1].optionName)},on:{change:[function(e){t.option1Selected=t.optionCategory1.options[t.optionCategory1.options.length-1].optionName},function(e){return t.updateDisplayPrice()}]}}),o("span",{staticClass:"checkmark my-auto"}),t.optionCategory1.options[t.optionCategory1.options.length-1].optionName==t.option1Selected?o("p",{staticClass:"mx-3 my-0 text-muted"},[o("b",[t._v(t._s(t.optionCategory1.options[t.optionCategory1.options.length-1].optionName))])]):t._e(),t.optionCategory1.options[t.optionCategory1.options.length-1].optionName!=t.option1Selected?o("p",{staticClass:"mx-3 my-0 text-muted"},[t._v(t._s(t.optionCategory1.options[t.optionCategory1.options.length-1].optionName))]):t._e()])]),o("div",[t.optionCategory1.options[t.optionCategory1.options.length-1].optionName==t.option1Selected?o("p",{staticClass:"my-0 text-muted"},[o("b",[t._v(t._s(t.optionCategory1.options[t.optionCategory1.options.length-1].optionPrice))])]):t._e(),t.optionCategory1.options[t.optionCategory1.options.length-1].optionName!=t.option1Selected?o("p",{staticClass:"my-0 text-muted"},[t._v(t._s(t.optionCategory1.options[t.optionCategory1.options.length-1].optionPrice))]):t._e()])])])])],2)]):t._e(),null!=t.optionCategory2?o("div",{staticClass:"p-3 whiteCard my-1"},[o("div",{staticClass:"form-group  my-0"},[o("p",{staticClass:"optionTitle"},[o("b",[t._v(t._s(t.optionCategory2.optionCategoryName))])]),t._l(t.optionCategory2.options.slice(0,t.optionCategory2.options.length-1),(function(e,i){return o("div",{key:i,on:{click:function(o){t.option2Selected=e.optionName,t.updateDisplayPrice()}}},[o("div",{staticClass:"form-check my-0"},[o("div",{staticClass:"d-flex justify-content-between"},[o("div",{staticClass:"radioContainer"},[o("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios1"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.option2Selected,expression:"option2Selected"}],staticClass:"form-check-input",attrs:{type:"radio",name:"optionCategory2"},domProps:{value:e.optionName,checked:t._q(t.option2Selected,e.optionName)},on:{change:[function(o){t.option2Selected=e.optionName},function(e){return t.updateDisplayPrice()}]}}),o("span",{staticClass:"checkmark my-auto"}),e.optionName==t.option2Selected?o("p",{staticClass:"mx-3 my-0 text-muted"},[o("b",[t._v(t._s(e.optionName))])]):t._e(),e.optionName!=t.option2Selected?o("p",{staticClass:"mx-3 my-0 text-muted"},[t._v(t._s(e.optionName))]):t._e()])]),o("div",[e.optionName==t.option2Selected?o("p",{staticClass:"my-0 text-muted"},[o("b",[t._v(t._s(e.optionPrice))])]):t._e(),e.optionName!=t.option2Selected?o("p",{staticClass:"my-0 text-muted"},[t._v(t._s(e.optionPrice))]):t._e()])])]),o("hr")])})),o("div",{on:{click:function(e){t.option2Selected=t.optionCategory2.options[t.optionCategory2.options.length-1].optionName,t.updateDisplayPrice()}}},[o("div",{staticClass:"form-check my-0"},[o("div",{staticClass:"d-flex justify-content-between"},[o("div",{staticClass:"radioContainer"},[o("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios1"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.option2Selected,expression:"option2Selected"}],staticClass:"form-check-input",attrs:{type:"radio",name:"optionCategory2"},domProps:{value:t.optionCategory2.options[t.optionCategory2.options.length-1].optionName,checked:t._q(t.option2Selected,t.optionCategory2.options[t.optionCategory2.options.length-1].optionName)},on:{change:[function(e){t.option2Selected=t.optionCategory2.options[t.optionCategory2.options.length-1].optionName},function(e){return t.updateDisplayPrice()}]}}),o("span",{staticClass:"checkmark my-auto"}),t.optionCategory2.options[t.optionCategory2.options.length-1].optionName==t.option2Selected?o("p",{staticClass:"mx-3 my-0 text-muted"},[o("b",[t._v(t._s(t.optionCategory2.options[t.optionCategory2.options.length-1].optionName))])]):t._e(),t.optionCategory2.options[t.optionCategory2.options.length-1].optionName!=t.option2Selected?o("p",{staticClass:"mx-3 my-0 text-muted"},[t._v(t._s(t.optionCategory2.options[t.optionCategory2.options.length-1].optionName))]):t._e()])]),o("div",[t.optionCategory2.options[t.optionCategory2.options.length-1].optionName==t.option2Selected?o("p",{staticClass:"my-0 text-muted"},[o("b",[t._v(t._s(t.optionCategory2.options[t.optionCategory2.options.length-1].optionPrice))])]):t._e(),t.optionCategory2.options[t.optionCategory2.options.length-1].optionName!=t.option2Selected?o("p",{staticClass:"my-0 text-muted"},[t._v(t._s(t.optionCategory2.options[t.optionCategory2.options.length-1].optionPrice))]):t._e()])])])])],2)]):t._e(),o("div",{staticClass:"p-3 whiteCard my-1"},[t._m(0),t._l(t.menu.addOns,(function(e,i){return o("div",{key:i,staticClass:"form-check mx-0 px-0",on:{click:function(o){t.clickAddOn(e.optionName),t.updateDisplayPrice()}}},[o("div",{staticClass:"mx-0 px-0 d-flex justify-content-between"},[o("div",{staticClass:"checkboxContainer"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedAddOns,expression:"selectedAddOns"}],key:i,staticClass:"form-check-input",attrs:{type:"checkbox",id:e.optionName},domProps:{value:e.optionName,checked:Array.isArray(t.selectedAddOns)?t._i(t.selectedAddOns,e.optionName)>-1:t.selectedAddOns},on:{change:[function(o){var i=t.selectedAddOns,a=o.target,s=!!a.checked;if(Array.isArray(i)){var n=e.optionName,r=t._i(i,n);a.checked?r<0&&(t.selectedAddOns=i.concat([n])):r>-1&&(t.selectedAddOns=i.slice(0,r).concat(i.slice(r+1)))}else t.selectedAddOns=s},function(e){return t.updateDisplayPrice()}]}}),o("span",{staticClass:"checkboxCheckmark my-auto"}),t.selectedAddOns.includes(e.optionName)?o("p",{staticClass:"mx-1 my-0 text-muted"},[o("b",[t._v(t._s(e.optionName))])]):t._e(),t.selectedAddOns.includes(e.optionName)?t._e():o("p",{staticClass:"mx-1 my-0 text-muted"},[t._v(t._s(e.optionName))])]),o("div",[t.selectedAddOns.includes(e.optionName)?o("p",{staticClass:"mx-1 my-0 text-muted"},[o("b",[t._v(t._s(e.optionPrice))])]):t._e(),t.selectedAddOns.includes(e.optionName)?t._e():o("p",{staticClass:"mx-1 my-0 text-muted"},[t._v(t._s(e.optionPrice))])])]),o("hr")])}))],2),o("div",{staticClass:"whiteCard my-1 p-2"},[o("div",{staticClass:"mx-2"},[t._m(1),o("div",{staticClass:"form-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.notes,expression:"notes"}],staticClass:"form-control",attrs:{name:"notes","aria-describedby":"smth",placeholder:"No gluten?"},domProps:{value:t.notes},on:{input:function(e){e.target.composing||(t.notes=e.target.value)}}}),t._m(2)])])]),o("div",{staticClass:"whiteCard my-1"},[o("div",{staticClass:"d-flex justify-content-center"},[o("div",{staticClass:"card my-2",on:{click:function(e){return t.decrementQuantity()}}},[o("i",{staticClass:"fas fa-minus mx-4 my-2 lightColour"})]),o("div",{staticClass:"my-2"},[o("p",{staticClass:"mx-4 my-2"},[o("b",[t._v(t._s(t.quantity))])])]),o("div",{staticClass:"card my-2",on:{click:function(e){return t.incrementQuantity()}}},[o("i",{staticClass:"fas fa-plus mx-4 my-2 lightColour"})])])]),o("div",{staticClass:"fixed-bottom w-100",attrs:{id:"footer"}},[o("div",{staticClass:"d-flex justify-content-center my-1"},[t.addedToCart?t._e():o("div",{staticClass:"rounded mediumBackground d-flex justify-content-center my-0",staticStyle:{width:"80%"},on:{click:function(e){return t.addToCart()}}},[o("p",{staticClass:"my-2",staticStyle:{color:"white"}},[t._v("Add to cart - "+t._s(t.finalPrice))])]),t.addedToCart?o("div",{staticClass:"rounded d-flex justify-content-center my-0",staticStyle:{width:"80%","background-color":"lightgrey"}},[o("p",{staticClass:"my-2",staticStyle:{color:"white"}},[t._v("Added to cart")])]):t._e()])])])},gt=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("p",{staticClass:"optionTitle"},[o("b",[t._v("Add ons")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("p",{staticClass:"optionTitle"},[o("b",[t._v("Notes")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"row mx-2"},[o("small",{staticClass:"form-text text-muted"},[t._v("You may specify additional dietary requirements here")])])}],Ct=(o("7f7f"),{components:{SearchBar:$},name:"Menu",data:function(){return{menuId:0,menu:{},selected:"",options:{},selectedOptionName:"",selectedAddOns:[],selectedOptionCategory:"",optionCategory1:null,optionCategory2:null,optionCategory3:null,optionCategory4:null,optionCategory5:null,option1Selected:"",option2Selected:"",option3Selected:"",option4Selected:"",option5Selected:"",quantity:1,invalidSubmission:!1,displayPrice:0,finalPrice:0,addedToCart:!1,notes:""}},created:function(){var t=this;this.id=this.$route.params.menuId,this.axios.post(this.$parent.api+"menu/get_menu_item",{id:this.id}).then((function(e){t.menu=e.data,window.console.log(t.menu),t.displayPrice=t.menu.displayPrice,t.optionCategory1=t.menu.optionCategories.length>0?t.menu.optionCategories[0]:null,t.optionCategory2=t.menu.optionCategories.length>1?t.menu.optionCategories[1]:null,t.optionCategory3=t.menu.optionCategories.length>2?t.menu.optionCategories[2]:null,t.optionCategory4=t.menu.optionCategories.length>3?t.menu.optionCategories[3]:null,t.optionCategory5=t.menu.optionCategories.length>4?t.menu.optionCategories[4]:null,t.option1Selected=null!=t.optionCategory1?t.optionCategory1.options[0].optionName:"",t.option2Selected=null!=t.optionCategory2?t.optionCategory2.options[0].optionName:"",t.option3Selected=null!=t.optionCategory3?t.optionCategory3.options[0].optionName:"",t.option4Selected=null!=t.optionCategory4?t.optionCategory4.options[0].optionName:"",t.option5Selected=null!=t.optionCategory5?t.optionCategory5.options[0].optionName:"",0!=t.menu.price?(t.displayPrice=t.menu.price,"percent"==t.menu.promotionType&&(t.finalPrice=t.displayPrice*(100-t.menu.promotionAmount)/100),"amount"==t.menu.promotionType&&(t.finalPrice=t.displayPrice-t.menu.promotionAmount)):t.updateDisplayPrice()})).catch((function(t){window.console.log(t)}))},mounted:function(){},methods:{clickAddOn:function(t){for(var e=!1,o=0;o<this.selectedAddOns.length;o++)this.selectedAddOns[o]==t&&(this.selectedAddOns.pop(o),e=!0);e||this.selectedAddOns.push(t)},addToCart:function(){var t=[];null!=this.optionCategory1&&t.push(this.option1Selected),null!=this.optionCategory2&&t.push(this.option2Selected),null!=this.optionCategory3&&t.push(this.option3Selected),null!=this.optionCategory4&&t.push(this.option4Selected),null!=this.optionCategory5&&t.push(this.option5Selected),window.console.log("displayPrice: "+this.displayPrice);var e={menuId:this.id,menuName:this.menu.name,menuOptions:t,selectedAddOns:this.selectedAddOns,orderPrice:this.getPrice()*this.quantity,finalPrice:this.finalPrice,quantity:this.quantity,menuNotes:this.notes,src:this.menu.src,promotionType:this.menu.promotionType,promotionAmount:this.menu.promotionAmount};window.console.log(e),this.$parent.orders.push(e),window.localStorage.setItem("orders",JSON.stringify(this.$parent.orders)),this.addedToCart=!0,setTimeout((function(t){t.go(-1)}),500,this.$router)},back:function(t){t.go(-1)},updateDisplayPrice:function(){0==this.menu.price&&(this.displayPrice=this.getPrice()*this.quantity),window.console.log("displayPrice: "+this.displayPrice),this.finalPrice=this.displayPrice,"percent"==this.menu.promotionType&&(this.finalPrice=this.finalPrice*(100-this.menu.promotionAmount)/100),"amount"==this.menu.promotionType&&(this.finalPrice=this.finalPrice-this.menu.promotionAmount),1==this.addedToCart&&(this.addedToCart=!1)},incrementQuantity:function(){this.quantity++,this.updateDisplayPrice()},decrementQuantity:function(){this.quantity>1&&this.quantity--,this.updateDisplayPrice()},verifySelected:function(){var t=!0;return null!=this.optionCategory1&&""==this.option1Selected&&(t=!1),null!=this.optionCategory2&&""==this.option2Selected&&(t=!1),null!=this.optionCategory3&&""==this.option3Selected&&(t=!1),null!=this.optionCategory4&&""==this.option4Selected&&(t=!1),null!=this.optionCategory5&&""==this.option5Selected&&(t=!1),0==this.quantity&&(t=!1),t},getPrice:function(){var t=0;if(0!=this.menu.price)t=this.menu.price;else{if(null!=this.optionCategory1)for(var e=0;e<this.optionCategory1.options.length;e++)this.option1Selected==this.optionCategory1.options[e].optionName&&(t+=this.optionCategory1.options[e].optionPrice,window.console.log("adding price"));if(null!=this.optionCategory2)for(e=0;e<this.optionCategory2.options.length;e++)this.option2Selected==this.optionCategory2.options[e].optionName&&(t+=this.optionCategory2.options[e].optionPrice);if(null!=this.optionCategory3)for(e=0;e<this.optionCategory3.options.length;e++)this.option3Selected==this.optionCategory3.options[e].optionName&&(t+=this.optionCategory3.options[e].optionPrice);if(null!=this.optionCategory4)for(e=0;e<this.optionCategory4.options.length;e++)this.option4Selected==this.optionCategory4.options[e].optionName&&(t+=this.optionCategory4.options[e].optionPrice);if(null!=this.optionCategory5)for(e=0;e<this.optionCategory5.options.length;e++)this.option5Selected==this.optionCategory5.options[e].optionName&&(t+=this.optionCategory5.options[e].optionPrice)}for(e=0;e<this.selectedAddOns.length;e++)for(var o=this.selectedAddOns[e],i=0;i<this.menu.addOns.length;i++){var a=this.menu.addOns[i];o==a.optionName&&(t+=a.optionPrice)}return t}}}),_t=Ct,xt=(o("dd29"),Object(m["a"])(_t,vt,gt,!1,null,"de04c9f6",null)),bt=xt.exports,wt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{"background-color":"#f5f5f5"}},[o("div",{staticClass:"fixed-top",attrs:{id:"header"}},[o("div",{staticClass:"row lightBackground"},[o("div",{staticClass:"col-2 d-flex justify-content-center my-auto"},[o("a",{staticStyle:{color:"white"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$router.go(-1)}}},[o("i",{staticClass:"fas fa-chevron-left my-auto",staticStyle:{color:"white"}})])]),o("div",{staticClass:"col-8 d-flex justify-content-center my-1"},[o("div",{staticClass:"input-group col-md-4"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKey,expression:"searchKey"}],staticClass:"form-control border-right-0 border",attrs:{type:"search",id:"example-search-input",placeholder:"Search"},domProps:{value:t.searchKey},on:{input:function(e){e.target.composing||(t.searchKey=e.target.value)}}}),o("span",{staticClass:"input-group-append"},[o("button",{staticClass:"btn btn-outline-secondary border-left-0 border",staticStyle:{"background-color":"white"},attrs:{type:"button"},on:{click:function(e){return t.search()}}},[o("i",{staticClass:"fa fa-search lightColour",staticStyle:{"background-color":"white"}})])])])]),o("div",{staticClass:"col-2 d-flex justify-content-center my-auto"},[o("div",{staticClass:"pr-5"},[o("router-link",{attrs:{to:{name:"orderOptions"}}},[o("i",{staticClass:"fas fa-map-marker-alt my-auto",staticStyle:{color:"white"}})])],1)])])]),o("img",{staticStyle:{width:"100%","border-radius":"0% 0% 1% 1%"},attrs:{src:"/img/menus/"+t.menu.src}}),o("div",{staticClass:"whiteCard my-1 p-2"},[o("div",{staticClass:"d-flex justify-content-between mx-2"},[o("p",{staticClass:"darkColour mt-0 mb-0",staticStyle:{"font-size":"20px"}},[o("b",[t._v(t._s(t.menu.name))])]),o("p",{staticClass:"mediumColour mt-0 mb-0 mx-0",staticStyle:{"font-size":"24px"}},[t._v("฿"),o("b",[t._v(t._s(this.displayPrice))])])]),o("div",{staticClass:"mx-2"},[o("p",{staticClass:"text-muted mt-2 mb-0",staticStyle:{"font-size":"14px"}},[t._v(t._s(t.menu.thaiDescription))]),o("p",{staticClass:"text-muted mt-1",staticStyle:{"font-size":"12px"}},[t._v(t._s(t.menu.englishDescription))])])]),null!=t.optionCategory1?o("div",{staticClass:"p-3 whiteCard my-1"},[o("div",{staticClass:"form-group  my-0"},[o("p",{staticClass:"optionTitle"},[o("b",[t._v(t._s(t.optionCategory1.optionCategoryName))])]),t._l(t.optionCategory1.options.slice(0,t.optionCategory1.options.length-1),(function(e,i){return o("div",{key:i,on:{click:function(o){t.option1Selected=e.optionName,t.updateDisplayPrice()}}},[o("div",{staticClass:"form-check my-0"},[o("div",{staticClass:"d-flex justify-content-between"},[o("div",{staticClass:"radioContainer"},[o("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios1"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.option1Selected,expression:"option1Selected"}],staticClass:"form-check-input",attrs:{type:"radio",name:"optionCategory1"},domProps:{value:e.optionName,checked:t._q(t.option1Selected,e.optionName)},on:{change:[function(o){t.option1Selected=e.optionName},function(e){return t.updateDisplayPrice()}]}}),o("span",{staticClass:"checkmark my-auto"}),e.optionName==t.option1Selected?o("p",{staticClass:"mx-3 my-0 text-muted"},[o("b",[t._v(t._s(e.optionName))])]):t._e(),e.optionName!=t.option1Selected?o("p",{staticClass:"mx-3 my-0 text-muted"},[t._v(t._s(e.optionName))]):t._e()])]),o("div",[e.optionName==t.option1Selected?o("p",{staticClass:"my-0 text-muted"},[o("b",[t._v(t._s(e.optionPrice))])]):t._e(),e.optionName!=t.option1Selected?o("p",{staticClass:"my-0 text-muted"},[t._v(t._s(e.optionPrice))]):t._e()])])]),o("hr")])})),o("div",{on:{click:function(e){t.option1Selected=t.optionCategory1.options[t.optionCategory1.options.length-1].optionName,t.updateDisplayPrice()}}},[o("div",{staticClass:"form-check my-0"},[o("div",{staticClass:"d-flex justify-content-between"},[o("div",{staticClass:"radioContainer"},[o("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios1"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.option1Selected,expression:"option1Selected"}],staticClass:"form-check-input",attrs:{type:"radio",name:"optionCategory1"},domProps:{value:t.optionCategory1.options[t.optionCategory1.options.length-1].optionName,checked:t._q(t.option1Selected,t.optionCategory1.options[t.optionCategory1.options.length-1].optionName)},on:{change:[function(e){t.option1Selected=t.optionCategory1.options[t.optionCategory1.options.length-1].optionName},function(e){return t.updateDisplayPrice()}]}}),o("span",{staticClass:"checkmark my-auto"}),t.optionCategory1.options[t.optionCategory1.options.length-1].optionName==t.option1Selected?o("p",{staticClass:"mx-3 my-0 text-muted"},[o("b",[t._v(t._s(t.optionCategory1.options[t.optionCategory1.options.length-1].optionName))])]):t._e(),t.optionCategory1.options[t.optionCategory1.options.length-1].optionName!=t.option1Selected?o("p",{staticClass:"mx-3 my-0 text-muted"},[t._v(t._s(t.optionCategory1.options[t.optionCategory1.options.length-1].optionName))]):t._e()])]),o("div",[t.optionCategory1.options[t.optionCategory1.options.length-1].optionName==t.option1Selected?o("p",{staticClass:"my-0 text-muted"},[o("b",[t._v(t._s(t.optionCategory1.options[t.optionCategory1.options.length-1].optionPrice))])]):t._e(),t.optionCategory1.options[t.optionCategory1.options.length-1].optionName!=t.option1Selected?o("p",{staticClass:"my-0 text-muted"},[t._v(t._s(t.optionCategory1.options[t.optionCategory1.options.length-1].optionPrice))]):t._e()])])])])],2)]):t._e(),null!=t.optionCategory2?o("div",{staticClass:"p-3 whiteCard my-1"},[o("div",{staticClass:"form-group  my-0"},[o("p",{staticClass:"optionTitle"},[o("b",[t._v(t._s(t.optionCategory2.optionCategoryName))])]),t._l(t.optionCategory2.options.slice(0,t.optionCategory2.options.length-1),(function(e,i){return o("div",{key:i,on:{click:function(o){t.option2Selected=e.optionName,t.updateDisplayPrice()}}},[o("div",{staticClass:"form-check my-0"},[o("div",{staticClass:"d-flex justify-content-between"},[o("div",{staticClass:"radioContainer"},[o("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios1"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.option2Selected,expression:"option2Selected"}],staticClass:"form-check-input",attrs:{type:"radio",name:"optionCategory2"},domProps:{value:e.optionName,checked:t._q(t.option2Selected,e.optionName)},on:{change:[function(o){t.option2Selected=e.optionName},function(e){return t.updateDisplayPrice()}]}}),o("span",{staticClass:"checkmark my-auto"}),e.optionName==t.option2Selected?o("p",{staticClass:"mx-3 my-0 text-muted"},[o("b",[t._v(t._s(e.optionName))])]):t._e(),e.optionName!=t.option2Selected?o("p",{staticClass:"mx-3 my-0 text-muted"},[t._v(t._s(e.optionName))]):t._e()])]),o("div",[e.optionName==t.option2Selected?o("p",{staticClass:"my-0 text-muted"},[o("b",[t._v(t._s(e.optionPrice))])]):t._e(),e.optionName!=t.option2Selected?o("p",{staticClass:"my-0 text-muted"},[t._v(t._s(e.optionPrice))]):t._e()])])]),o("hr")])})),o("div",{on:{click:function(e){t.option2Selected=t.optionCategory2.options[t.optionCategory2.options.length-1].optionName,t.updateDisplayPrice()}}},[o("div",{staticClass:"form-check my-0"},[o("div",{staticClass:"d-flex justify-content-between"},[o("div",{staticClass:"radioContainer"},[o("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios1"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.option2Selected,expression:"option2Selected"}],staticClass:"form-check-input",attrs:{type:"radio",name:"optionCategory2"},domProps:{value:t.optionCategory2.options[t.optionCategory2.options.length-1].optionName,checked:t._q(t.option2Selected,t.optionCategory2.options[t.optionCategory2.options.length-1].optionName)},on:{change:[function(e){t.option2Selected=t.optionCategory2.options[t.optionCategory2.options.length-1].optionName},function(e){return t.updateDisplayPrice()}]}}),o("span",{staticClass:"checkmark my-auto"}),t.optionCategory2.options[t.optionCategory2.options.length-1].optionName==t.option2Selected?o("p",{staticClass:"mx-3 my-0 text-muted"},[o("b",[t._v(t._s(t.optionCategory2.options[t.optionCategory2.options.length-1].optionName))])]):t._e(),t.optionCategory2.options[t.optionCategory2.options.length-1].optionName!=t.option2Selected?o("p",{staticClass:"mx-3 my-0 text-muted"},[t._v(t._s(t.optionCategory2.options[t.optionCategory2.options.length-1].optionName))]):t._e()])]),o("div",[t.optionCategory2.options[t.optionCategory2.options.length-1].optionName==t.option2Selected?o("p",{staticClass:"my-0 text-muted"},[o("b",[t._v(t._s(t.optionCategory2.options[t.optionCategory2.options.length-1].optionPrice))])]):t._e(),t.optionCategory2.options[t.optionCategory2.options.length-1].optionName!=t.option2Selected?o("p",{staticClass:"my-0 text-muted"},[t._v(t._s(t.optionCategory2.options[t.optionCategory2.options.length-1].optionPrice))]):t._e()])])])])],2)]):t._e(),o("div",{staticClass:"p-3 whiteCard my-1"},[t._m(0),t._l(t.menu.addOns,(function(e,i){return o("div",{key:i,staticClass:"form-check mx-0 px-0",on:{click:function(o){t.clickAddOn(e.optionName),t.updateDisplayPrice()}}},[o("div",{staticClass:"mx-0 px-0 d-flex justify-content-between"},[o("div",{staticClass:"checkboxContainer"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedAddOns,expression:"selectedAddOns"}],key:i,staticClass:"form-check-input",attrs:{type:"checkbox",id:e.optionName},domProps:{value:e.optionName,checked:Array.isArray(t.selectedAddOns)?t._i(t.selectedAddOns,e.optionName)>-1:t.selectedAddOns},on:{change:[function(o){var i=t.selectedAddOns,a=o.target,s=!!a.checked;if(Array.isArray(i)){var n=e.optionName,r=t._i(i,n);a.checked?r<0&&(t.selectedAddOns=i.concat([n])):r>-1&&(t.selectedAddOns=i.slice(0,r).concat(i.slice(r+1)))}else t.selectedAddOns=s},function(e){return t.updateDisplayPrice()}]}}),o("span",{staticClass:"checkboxCheckmark my-auto"}),t.selectedAddOns.includes(e.optionName)?o("p",{staticClass:"mx-1 my-0 text-muted"},[o("b",[t._v(t._s(e.optionName))])]):t._e(),t.selectedAddOns.includes(e.optionName)?t._e():o("p",{staticClass:"mx-1 my-0 text-muted"},[t._v(t._s(e.optionName))])]),o("div",[t.selectedAddOns.includes(e.optionName)?o("p",{staticClass:"mx-1 my-0 text-muted"},[o("b",[t._v(t._s(e.optionPrice))])]):t._e(),t.selectedAddOns.includes(e.optionName)?t._e():o("p",{staticClass:"mx-1 my-0 text-muted"},[t._v(t._s(e.optionPrice))])])]),o("hr")])}))],2),o("div",{staticClass:"whiteCard my-1 p-2"},[o("div",{staticClass:"mx-2"},[t._m(1),o("div",{staticClass:"form-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.notes,expression:"notes"}],staticClass:"form-control",attrs:{name:"notes","aria-describedby":"smth",placeholder:"No gluten?"},domProps:{value:t.notes},on:{input:function(e){e.target.composing||(t.notes=e.target.value)}}}),t._m(2)])])]),o("div",{staticClass:"whiteCard my-1"},[o("div",{staticClass:"d-flex justify-content-center"},[o("div",{staticClass:"card my-2",on:{click:function(e){return t.decrementQuantity()}}},[o("i",{staticClass:"fas fa-minus mx-4 my-2 lightColour"})]),o("div",{staticClass:"my-2"},[o("p",{staticClass:"mx-4 my-2"},[o("b",[t._v(t._s(t.quantity))])])]),o("div",{staticClass:"card my-2",on:{click:function(e){return t.incrementQuantity()}}},[o("i",{staticClass:"fas fa-plus mx-4 my-2 lightColour"})])])]),o("div",{staticClass:"fixed-bottom w-100",attrs:{id:"footer"}},[o("div",{staticClass:"d-flex justify-content-center my-1"},[t.addedToCart?t._e():o("div",{staticClass:"rounded mediumBackground d-flex justify-content-center my-0",staticStyle:{width:"80%"},on:{click:function(e){return t.addToCart()}}},[o("p",{staticClass:"my-2",staticStyle:{color:"white"}},[t._v("Update - "+t._s(t.finalPrice))])]),t.addedToCart?o("div",{staticClass:"rounded d-flex justify-content-center my-0",staticStyle:{width:"80%","background-color":"lightgrey"}},[o("p",{staticClass:"my-2",staticStyle:{color:"white"}},[t._v("Updated")])]):t._e()])])])},kt=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("p",{staticClass:"optionTitle"},[o("b",[t._v("Add ons")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("p",{staticClass:"optionTitle"},[o("b",[t._v("Notes")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"row mx-2"},[o("small",{staticClass:"form-text text-muted"},[t._v("You may specify additional dietary requirements here")])])}],St={components:{SearchBar:$},name:"EditItem",data:function(){return{index:null,menuId:0,menu:{},selected:"",options:{},selectedOptionName:"",selectedAddOns:[],selectedOptionCategory:"",optionCategory1:null,optionCategory2:null,optionCategory3:null,optionCategory4:null,optionCategory5:null,option1Selected:"",option2Selected:"",option3Selected:"",option4Selected:"",option5Selected:"",quantity:1,invalidSubmission:!1,displayPrice:0,finalPrice:0,addedToCart:!1,notes:""}},created:function(){var t=this;this.index=this.$route.params.index,this.menuId=this.$route.params.id,window.console.log("id: "+this.menuId);var e=this.$parent.orders[this.index];this.selectedAddOns=e.selectedAddOns,this.quantity=e.quantity,this.notes=e.menuNotes,this.axios.post(this.$parent.api+"menu/get_menu_item",{id:this.menuId}).then((function(o){t.menu=o.data,window.console.log(t.menu),t.displayPrice=t.menu.displayPrice,t.optionCategory1=t.menu.optionCategories.length>0?t.menu.optionCategories[0]:null,t.optionCategory2=t.menu.optionCategories.length>1?t.menu.optionCategories[1]:null,t.optionCategory3=t.menu.optionCategories.length>2?t.menu.optionCategories[2]:null,t.optionCategory4=t.menu.optionCategories.length>3?t.menu.optionCategories[3]:null,t.optionCategory5=t.menu.optionCategories.length>4?t.menu.optionCategories[4]:null,t.option1Selected=null!=t.optionCategory1?e.menuOptions[0]:"",t.option2Selected=null!=t.optionCategory2?e.menuOptions[1]:"",t.option3Selected=null!=t.optionCategory3?e.menuOptions[2]:"",t.option4Selected=null!=t.optionCategory4?e.menuOptions[3]:"",t.option5Selected=null!=t.optionCategory5?e.menuOptions[4]:"",0!=t.menu.price?(t.displayPrice=t.menu.price,"percent"==t.menu.promotionType&&(t.finalPrice=t.displayPrice*(100-t.menu.promotionAmount)/100),"amount"==t.menu.promotionType&&(t.finalPrice=t.displayPrice-t.menu.promotionAmount)):t.updateDisplayPrice()})).catch((function(t){window.console.log(t)}))},mounted:function(){},methods:{clickAddOn:function(t){for(var e=!1,o=0;o<this.selectedAddOns.length;o++)this.selectedAddOns[o]==t&&(this.selectedAddOns.pop(o),e=!0);e||this.selectedAddOns.push(t)},addToCart:function(){var t=[];null!=this.optionCategory1&&t.push(this.option1Selected),null!=this.optionCategory2&&t.push(this.option2Selected),null!=this.optionCategory3&&t.push(this.option3Selected),null!=this.optionCategory4&&t.push(this.option4Selected),null!=this.optionCategory5&&t.push(this.option5Selected),window.console.log("displayPrice: "+this.displayPrice);var e={menuId:this.menuId,menuName:this.menu.name,menuOptions:t,selectedAddOns:this.selectedAddOns,orderPrice:this.getPrice()*this.quantity,finalPrice:this.finalPrice,quantity:this.quantity,menuNotes:this.notes,src:this.menu.src,promotionType:this.menu.promotionType,promotionAmount:this.menu.promotionAmount};window.console.log(e),this.$parent.orders[this.index]=e,window.localStorage.setItem("orders",JSON.stringify(this.$parent.orders)),this.addedToCart=!0,setTimeout((function(t){t.go(-1)}),500,this.$router)},back:function(t){t.go(-1)},updateDisplayPrice:function(){0==this.menu.price&&(this.displayPrice=this.getPrice()*this.quantity),window.console.log("displayPrice: "+this.displayPrice),this.finalPrice=this.displayPrice,"percent"==this.menu.promotionType&&(this.finalPrice=this.finalPrice*(100-this.menu.promotionAmount)/100),"amount"==this.menu.promotionType&&(this.finalPrice=this.finalPrice-this.menu.promotionAmount),1==this.addedToCart&&(this.addedToCart=!1)},incrementQuantity:function(){this.quantity++,this.updateDisplayPrice()},decrementQuantity:function(){this.quantity>1&&this.quantity--,this.updateDisplayPrice()},verifySelected:function(){var t=!0;return null!=this.optionCategory1&&""==this.option1Selected&&(t=!1),null!=this.optionCategory2&&""==this.option2Selected&&(t=!1),null!=this.optionCategory3&&""==this.option3Selected&&(t=!1),null!=this.optionCategory4&&""==this.option4Selected&&(t=!1),null!=this.optionCategory5&&""==this.option5Selected&&(t=!1),0==this.quantity&&(t=!1),t},getPrice:function(){var t=0;if(0!=this.menu.price)t=this.menu.price;else{if(null!=this.optionCategory1)for(var e=0;e<this.optionCategory1.options.length;e++)this.option1Selected==this.optionCategory1.options[e].optionName&&(t+=this.optionCategory1.options[e].optionPrice,window.console.log("adding price"));if(null!=this.optionCategory2)for(e=0;e<this.optionCategory2.options.length;e++)this.option2Selected==this.optionCategory2.options[e].optionName&&(t+=this.optionCategory2.options[e].optionPrice);if(null!=this.optionCategory3)for(e=0;e<this.optionCategory3.options.length;e++)this.option3Selected==this.optionCategory3.options[e].optionName&&(t+=this.optionCategory3.options[e].optionPrice);if(null!=this.optionCategory4)for(e=0;e<this.optionCategory4.options.length;e++)this.option4Selected==this.optionCategory4.options[e].optionName&&(t+=this.optionCategory4.options[e].optionPrice);if(null!=this.optionCategory5)for(e=0;e<this.optionCategory5.options.length;e++)this.option5Selected==this.optionCategory5.options[e].optionName&&(t+=this.optionCategory5.options[e].optionPrice)}for(e=0;e<this.selectedAddOns.length;e++)for(var o=this.selectedAddOns[e],i=0;i<this.menu.addOns.length;i++){var a=this.menu.addOns[i];o==a.optionName&&(t+=a.optionPrice)}return t}}},Nt=St,$t=(o("23d3"),Object(m["a"])(Nt,wt,kt,!1,null,"2ce16971",null)),Pt=$t.exports,It=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{"background-color":"#f5f5f5"}},[o("div",{staticClass:"lightBackground fixed-top"},[t.deliveryInfo!={}?o("div",{staticClass:"locationBar"},[o("div",{staticClass:"d-flex justify-content-center text-center p-0"},[o("i",{staticClass:"fas fa-map-marker-alt my-auto lightColour mr-2 my-auto",staticStyle:{"font-size":"10px"}}),o("p",{staticClass:"my-1 p-0",staticStyle:{color:"grey","font-size":"10px"}},[o("b",[t._v(t._s(t.deliveryInfo.shortenedAddress))])])]),t.deliveryInfo=={}?o("div",[t._m(0)]):t._e()]):t._e(),o("div",{staticClass:"d-flex justify-content-around my-2"},[o("a",{staticStyle:{color:"white"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$router.go(-1)}}},[o("i",{staticClass:"fas fa-chevron-left my-auto",staticStyle:{color:"white"}})]),o("h5",{staticStyle:{color:"white"}},[t._v("Your cart")]),o("a",{attrs:{href:"#"},on:{click:function(e){return t.requestLocation()}}},[o("i",{staticClass:"fas fa-map-marker-alt my-auto",staticStyle:{color:"white"}})])])]),o("div",{staticClass:"mt-5"},[t.items.length<1?o("div",[o("p",[t._v("You current have no items in your cart")])]):t._e(),t.items.length>0?o("div",[o("div",{staticClass:"whiteCard mb-1 pb-1"},[o("div",{staticClass:"mx-4"},t._l(t.items,(function(e,i){return o("div",{key:i},[o("div",{staticClass:"d-flex justify-content-between"},[o("div",{staticClass:"row"},[o("img",{staticClass:"py-1 mx-2 my-auto",staticStyle:{width:"85px",height:"85px","object-fit":"cover","border-radius":"15%"},attrs:{src:"/img/menus/"+t.items[i].src}}),o("div",{staticClass:"px-2"},[o("p",{staticClass:"my-auto",staticStyle:{"font-size":"1rem",color:"black"}},[o("b",[t._v(t._s(e.quantity)+" "+t._s(e.menuName))])]),0==e.price?o("p",{staticClass:"my-2 text-secondary",staticStyle:{"font-size":"0.8rem"}},[o("b",[t._v(t._s(e.optionString))])]):t._e(),t._l(e.selectedAddOns,(function(e,i){return o("p",{key:i,staticClass:"my-2 text-muted",staticStyle:{"font-size":"0.8rem"}},[t._v(t._s(e))])})),o("p",{staticClass:"my-2 text-muted",staticStyle:{"font-size":"0.7rem"}},[t._v(t._s(e.menuNotes))]),"percent"==e.promotionType?o("p",{staticClass:"text-muted mb-0",staticStyle:{"font-size":"0.8rem"}},[t._v("After "+t._s(e.promotionAmount)+"% discount")]):t._e(),"amount"==e.promotionType?o("p",{staticClass:"text-muted mb-0",staticStyle:{"font-size":"0.8rem"}},[t._v("After ฿"+t._s(e.promotionAmount)+" discount")]):t._e()],2)]),o("div",{staticClass:"my-auto"},["percent"==e.promotionType?o("p",{staticClass:"my-auto",staticStyle:{"font-size":"15px"}},[o("b",[t._v(t._s(e.orderPrice*(100-e.promotionAmount)/100))])]):t._e(),"amount"==e.promotionType?o("p",{staticClass:"my-auto",staticStyle:{"font-size":"15px"}},[o("b",[t._v(t._s(e.orderPrice-e.promotionAmount))])]):t._e(),null==e.promotionType?o("p",{staticClass:"my-auto",staticStyle:{"font-size":"15px"}},[o("b",[t._v(t._s(e.orderPrice))])]):t._e()])]),o("div",{staticClass:"d-flex justify-content-end"},[o("router-link",{attrs:{to:{name:"editItem",params:{index:i,id:e.menuId}}}},[o("label",{staticClass:"mx-2",staticStyle:{color:"#49b3cd","font-size":"12px"}},[t._v("Edit")])]),o("div",{staticClass:"mx-2"},[o("label",{staticStyle:{color:"#49b3cd","font-size":"12px"},on:{click:function(e){return t.$parent.orders.splice(i,1)}}},[t._v("Remove")])])],1),i<t.items.length-1?o("hr",{staticClass:"mt-0"}):t._e()])})),0)]),o("div",{staticClass:"whiteCard mb-1 py-3"},[o("div",{staticClass:"mx-4"},[o("div",{staticClass:"d-flex justify-content-between"},[o("div",{staticClass:"m-2"},["delivery"==this.$parent.orderMode?o("div",{staticClass:"lightBackground p-2 rounded",on:{click:function(e){return t.setMode("delivery")}}},[o("p",{staticClass:"text-center my-auto",staticStyle:{color:"white"}},[t._v("Delivery")])]):t._e(),"delivery"!=this.$parent.orderMode?o("div",{staticClass:"p-2 rounded",staticStyle:{"background-color":"lightgrey"},on:{click:function(e){return t.setMode("delivery")}}},[o("p",{staticClass:"text-center my-auto",staticStyle:{color:"white"}},[t._v("Delivery")])]):t._e()]),o("div",{staticClass:"m-2"},["takeaway"==this.$parent.orderMode?o("div",{staticClass:"lightBackground p-2 rounded",on:{click:function(e){return t.setMode("takeaway")}}},[o("p",{staticClass:"text-center my-auto",staticStyle:{color:"white"}},[t._v("Take away")])]):t._e(),"takeaway"!=this.$parent.orderMode?o("div",{staticClass:"p-2 rounded",staticStyle:{"background-color":"lightgrey"},on:{click:function(e){return t.setMode("takeaway")}}},[o("p",{staticClass:"text-center my-auto",staticStyle:{color:"white"}},[t._v("Take away")])]):t._e()]),o("div",{staticClass:"m-2"},["dinein"==this.$parent.orderMode?o("div",{staticClass:"lightBackground p-2 rounded",on:{click:function(e){return t.setMode("dinein")}}},[o("p",{staticClass:"text-center my-auto",staticStyle:{color:"white"}},[t._v("Dine in")])]):t._e(),"dinein"!=this.$parent.orderMode?o("div",{staticClass:"p-2 rounded",staticStyle:{"background-color":"lightgrey"},on:{click:function(e){return t.setMode("dinein")}}},[o("p",{staticClass:"text-center my-auto",staticStyle:{color:"white"}},[t._v("Dine in")])]):t._e()])]),"delivery"==t.$parent.orderMode?o("div",[o("label",{staticClass:"text-muted my-2",staticStyle:{"font-size":"12px"}},[t._v(t._s(this.$parent.deliveryInfo.destination))]),o("div",{staticClass:"d-flex justify-content-end"},[o("router-link",{attrs:{to:{name:"editLocation"}}},[o("label",{staticStyle:{color:"#49b3cd","font-size":"12px"}},[t._v("Edit")])])],1)]):t._e()])]),o("div",{staticClass:"whiteCard mb-1 py-3"},[o("div",{staticClass:"mx-4"},["delivery"==t.$parent.orderMode?o("div",{staticClass:"d-flex justify-content-between"},[o("p",[t._v("Delivery fee")]),o("p",[t._v(t._s(t.deliveryFee))])]):t._e(),o("div",{staticClass:"d-flex justify-content-between"},[t._m(1),o("p",[t._v(t._s(t.totalPrice+t.deliveryFee))])])])])]):t._e()]),o("div",{staticClass:"fixed-bottom",attrs:{id:"footer"}},[o("div",{staticClass:"d-flex justify-content-center my-1"},[t.$parent.orders.length>0?o("router-link",{staticClass:"w-100 d-flex justify-content-center",attrs:{to:{name:"checkout"}}},[o("div",{staticClass:"rounded mediumBackground d-flex justify-content-center my-0",staticStyle:{width:"80%"},on:{click:function(e){return t.submitOrder()}}},[o("p",{staticClass:"my-2",staticStyle:{color:"white"}},[t._v("Checkout")])])]):t._e(),t.$parent.orders.length<1?o("div",{staticClass:"rounded greyBackground d-flex justify-content-center my-0",staticStyle:{width:"80%"},on:{click:function(e){return t.submitOrder()}}},[o("p",{staticClass:"my-2",staticStyle:{color:"white"}},[t._v("Checkout")])]):t._e()],1)])])},Ot=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("p",{staticStyle:{color:"grey","font-size":"0.7rem"}},[o("b",[t._v("We can not yet determine your location")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("p",[o("b",[t._v("Total")])])}],Tt={components:{NavBar:y,LocationBar:V,SearchBar:$},name:"Cart",data:function(){return{items:[],deliveryInfo:{},totalPrice:0,deliveryFee:0}},created:function(){window.console.log(this.$parent.orders.length),this.deliveryInfo=this.$parent.deliveryInfo,this.items=this.$parent.orders,this.$parent.deliveryInfo.deliveryFee&&(this.deliveryFee=this.$parent.deliveryInfo.deliveryFee);for(var t=0;t<this.items.length;t++){var e=this.items[t];"percent"==e.promotionType&&(this.totalPrice+=e.orderPrice*(100-e.promotionAmount)/100),"amount"==e.promotionType&&(this.totalPrice+=e.orderPrice-e.promotionAmount),null==e.promotionType&&(this.totalPrice+=e.orderPrice);for(var o="",i=0;i<e.menuOptions.length-1;i++){var a=e.menuOptions[i];o+=a+", "}o+=e.menuOptions[e.menuOptions.length-1],e.optionString=o}this.$parent.productTotal=this.totalPrice},methods:{setMode:function(t){this.$parent.orderMode=t,window.localStorage.setItem("orderMode",t),this.deliveryFee="delivery"==t?this.$parent.deliveryInfo.deliveryFee:0}}},At=Tt,jt=(o("8239"),Object(m["a"])(At,It,Ot,!1,null,"4cd9077b",null)),Dt=jt.exports,Et=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t._v("\n    Thank you for ordering!\n")])},zt=[],Mt={name:"postOrder"},Bt=Mt,qt=Object(m["a"])(Bt,Et,zt,!1,null,null,null),Rt=qt.exports,Lt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"fixed-top lightBackground"},[o("div",{staticClass:"d-flex justify-content-around my-2"},[o("a",{staticStyle:{color:"white"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$router.go(-1)}}},[o("i",{staticClass:"fas fa-chevron-left my-auto",staticStyle:{color:"white"}})]),o("h5",{staticStyle:{color:"white"}},[t._v(t._s(t.categoryName))]),t.$parent.deliveryInfo!={}?o("router-link",{attrs:{to:{name:"search",params:{searchKey:""}}}},[o("i",{staticClass:"fas fa-search my-auto",staticStyle:{color:"white"}})]):t._e(),t.$parent.deliveryInfo=={}?o("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.requestLocation()}}},[o("i",{staticClass:"fas fa-map-marker-alt my-auto",staticStyle:{color:"white"}})]):t._e()],1)]),o("div",{staticClass:"container flex-grow-1 bodyArea mt-3"},t._l(t.menus,(function(e,i){return o("div",{key:i},[o("router-link",{attrs:{to:{name:"menu",params:{menuId:e.id}}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-5 col-m-3"},[o("img",{staticClass:"py-1 roundedImage",staticStyle:{width:"120px",height:"120px","object-fit":"cover"},attrs:{src:"/img/menus/"+e.src},on:{error:function(t){t.target.src="/img/404.png"}}})]),o("div",{staticClass:"col-7 col-m-9 ml-0 pl-0"},[o("div",{staticClass:"d-flex justify-content-between"},[o("p",{staticClass:"mb-1",staticStyle:{"font-size":"0.8rem",color:"black"}},[o("b",[t._v(t._s(e.name))])]),"percent"==e.promotionType?o("p",{staticClass:"mb-1",staticStyle:{"font-size":"0.8rem",color:"mediumseagreen"}},[o("b",[t._v("-"+t._s(e.promotionAmount)+"%")])]):t._e(),"amount"==e.promotionType?o("p",{staticClass:"mb-1",staticStyle:{"font-size":"0.8rem",color:"mediumseagreen"}},[o("b",[t._v("-฿"+t._s(e.promotionAmount))])]):t._e()]),null==e.promotionType?o("p",{staticClass:"mb-1 mediumColour",staticStyle:{"font-size":"0.8rem"}},[o("b",[t._v("฿"+t._s(e.displayPrice))])]):t._e(),null!=e.promotionType?o("p",{staticClass:"mb-1",staticStyle:{"font-size":"0.8rem",color:"mediumseagreen"}},[o("b",[t._v("฿"+t._s(e.promotionDisplayPrice))])]):t._e(),o("p",{staticClass:"text-muted mt-3 mb-0",staticStyle:{"font-size":"0.7rem"}},[o("b",[t._v(t._s(e.thaiDescription))])]),o("p",{staticClass:"text-muted my-0",staticStyle:{"font-size":"0.7rem"}},[t._v(t._s(e.englishDescription))])])])]),o("hr")],1)})),0),o("nav-bar")],1)},Kt=[],Ft={components:{SearchBar:$,LocationBar:V,NavBar:y},name:"Category",data:function(){return{menus:[],deliveryInfo:{deliveryFee:0,destination:"",distance:{humanReadable:"",inMeters:0},duration:{humanReadable:"",inSeconds:0},shortenedAddress:"sample destination"}}},created:function(){var t=this;this.categoryName=this.$route.params.categoryName,this.deliveryInfo=this.$parent.deliveryInfo,this.axios.post(this.$parent.api+"menu/get_menu_by_category",{string:this.$route.params.categoryName}).then((function(e){t.menus=e.data,window.console.log(t.menus)}))}},Ut=Ft,Wt=(o("451e"),Object(m["a"])(Ut,Lt,Kt,!1,null,"138a939f",null)),Gt=Wt.exports,Jt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t._m(0),o("div",{staticClass:"container flex-grow-1 bodyArea"},[t.orders.length<1?o("div",[t._v("\n                    There are currently no open orders\n                ")]):t._e(),t.orders.length>0?o("div",{staticClass:"row"},[o("div",{staticClass:"card",staticStyle:{width:"100%"}},[o("ul",{staticClass:"list-group list-group-flush"},t._l(t.orders,(function(e,i){return o("div",{key:i,staticClass:"list-group-item"},[o("div",{staticClass:"row",on:{click:function(o){return t.selectOrder(e.orderId)}}},[o("div",{staticClass:"col-2 px-1"},[o("p",{staticClass:"titleText text-dark"},[t._v(t._s(e.orderTime))])]),o("div",{staticClass:"col-2 px-1"},[o("p",{staticClass:"titleText text-dark"},[t._v(t._s(e.orderType))])]),o("div",{staticClass:"col-5 px-1"},t._l(e.orders,(function(e,i){return o("div",{key:i,staticClass:"row"},[o("div",{staticClass:"col-8"},[o("p",{staticClass:"text-secondary titleText text-center"},[t._v(t._s(e.menuName))])]),o("div",{staticClass:"col-4"},[o("p",{staticClass:"text-secondary titleText text-center"},[t._v("x"+t._s(e.quantity))])])])})),0),o("div",{staticClass:"col-3 pl-1"},["unconfirmed"==e.status?o("p",{staticClass:"titleText text-warning text-center"},[o("b",[t._v(t._s(e.status))])]):t._e(),"confirmed"==e.status?o("p",{staticClass:"titleText text-success"},[o("b",[t._v(t._s(e.status))])]):t._e(),"canceled"==e.status?o("p",{staticClass:"titleText text-danger"},[o("b",[t._v(t._s(e.status))])]):t._e()])]),"unconfirmed"==e.status?o("div",{key:e.status,staticClass:"row"},[o("div",{staticClass:"col-6"},[o("button",{staticClass:"btn btn-success btn-block",attrs:{type:"button"},on:{click:function(o){return t.$parent.acceptOrder(e)}}},[t._v("Accept")])]),o("div",{staticClass:"col-6"},[o("button",{staticClass:"btn btn-danger btn-block",attrs:{type:"button"},on:{click:function(o){return t.$parent.declineOrder(e)}}},[t._v("Decline")])])]):t._e(),o("hr")])})),0)])]):t._e()])])},Vt=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"fixed-top darkBackground mt-0"},[o("p",{staticClass:"text-center my-auto",staticStyle:{color:"white"}},[t._v("Today's orders")])])}],Ht={name:"OpenOrders",data:function(){return{config:{headers:{Authorization:"Bearer "+this.$parent.accessToken,"Access-Control-Allow-Origin":"*"}},orders:[{address:"",latitude:0,locationNotes:"",longitude:0,orderId:"",orderPrice:0,orderTime:"",orderType:"",status:"",phoneNumber:"",orders:[{menuId:0,menuName:"",menuPrice:0,optionString:"",options:[],quantity:0}],userId:""}]}},created:function(){window.console.log("access token: "+this.$parent.accessToken),this.getOrders(),this.$alert("Click OK")},mounted:function(){},methods:{getOrders:function(){var t=this;this.axios.get(this.$parent.api+"order/get_daily_orders",this.$parent.config).then((function(e){t.orders=e.data;for(var o=0;o<t.orders.length;o++)t.orders[o].response="";t.refresh(),window.console.log("token valid")})).catch((function(){t.refreshToken()}))},updateConfig:function(){this.config={headers:{Authorization:"Bearer "+this.$parent.accessToken,"Access-Control-Allow-Origin":"*"}}},redirectLogin:function(){window.console.log("redirecting to login"),this.$router.push({name:"login"}),window.clearInterval(this.loop)},refreshToken:function(){var t=this;window.console.log(this.$parent.refresherToken),window.clearInterval(this.loop),this.axios.post(this.$parent.api+"authenticate/token",{string:this.$parent.refresherToken}).then((function(e){window.console.log(e.data),t.accessToken=e.data.accessToken,window.localStorage.setItem("accessToken",e.data.accessToken),t.updateConfig(),t.axios.get(t.$parent.api+"order/get_daily_orders",t.$parent.config).then((function(e){t.orders=e.data;for(var o=0;o<t.orders.length;o++)t.orders[o].response="";t.refresh(),window.console.log("refresh successful")})).catch((function(){t.redirectLogin()}))})).catch((function(){window.console.log("GetNewAccessToken failed"),t.$router.push({name:"login"})}))},refresh:function(){var t=this;this.loop=window.setInterval((function(){window.console.log(t.$parent.accessToken);var e=t.orders.length;t.axios.get(t.$parent.api+"order/get_daily_orders",t.$parent.config).then((function(o){t.orders=o.data;for(var i=0;i<t.orders.length;i++)t.orders[i].response="";if(t.orders.length>e){window.console.log("new order");var a=new Audio("/sounds/notif.mp3");a.play()}})).catch((function(){window.console.log("calling refresh token"),t.refreshToken()}))}),5e3)},selectOrder:function(t){window.clearInterval(this.loop),this.$router.push({name:"orderDetails",params:{orderId:t}})}}},Qt=Ht,Yt=(o("fde4"),Object(m["a"])(Qt,Jt,Vt,!1,null,"100aa9bb",null)),Xt=Yt.exports,Zt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"lightBackground fixed-top"},[o("location-bar"),o("div",{staticClass:"d-flex justify-content-around my-2"},[o("a",{staticStyle:{color:"white"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$router.go(-1)}}},[o("i",{staticClass:"fas fa-chevron-left my-auto",staticStyle:{color:"white"}})]),o("h5",{staticStyle:{color:"white"}},[t._v(t._s(t.$route.params.searchKey))]),t.$parent.deliveryInfo!={}?o("router-link",{attrs:{to:{name:"search",params:{searchKey:""}}}},[o("i",{staticClass:"fas fa-search my-auto",staticStyle:{color:"white"}})]):t._e(),t.$parent.deliveryInfo=={}?o("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.requestLocation()}}},[o("i",{staticClass:"fas fa-map-marker-alt my-auto",staticStyle:{color:"white"}})]):t._e()],1)],1),o("div",{staticClass:"container flex-grow-1 bodyArea mt-5"},t._l(t.menus,(function(e,i){return o("div",{key:i},[o("router-link",{attrs:{to:{name:"menu",params:{menuId:e.id}}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-5 col-m-3"},[o("img",{staticClass:"py-1",staticStyle:{width:"100%",height:"100%","object-fit":"cover"},attrs:{src:"/img/menus/"+e.src}})]),o("div",{staticClass:"col-7 col-m-9 ml-0 pl-0"},[o("p",{staticClass:"my-0",staticStyle:{"font-size":"0.8rem",color:"black"}},[o("b",[t._v(t._s(e.name))])]),o("p",{staticClass:"my-0 lightColour",staticStyle:{"font-size":"0.8rem"}},[o("b",[t._v("฿"+t._s(e.displayPrice))])]),o("p",{staticClass:"text-muted",staticStyle:{"font-size":"0.7rem"}},[o("b",[t._v(t._s(e.thaiDescription))])]),o("p",{staticClass:"text-muted",staticStyle:{"font-size":"0.7rem"}},[t._v(t._s(e.englishDescription))])])])]),o("hr")],1)})),0),o("nav-bar")],1)},te=[],ee={components:{SearchBar:$,LocationBar:V,NavBar:y},name:"Search",data:function(){return{menus:[],deliveryInfo:{deliveryFee:0,destination:"",distance:{humanReadable:"",inMeters:0},duration:{humanReadable:"",inSeconds:0},shortenedAddress:"sample destination"}}},created:function(){var t=this;this.deliveryInfo=this.$parent.deliveryInfo,this.axios.post(this.$parent.api+"menu/get_search_results",{string:this.$route.params.searchKey}).then((function(e){t.menus=e.data,window.console.log("menus"+t.menus),window.console.log(t.$route.params.searchKey)}))}},oe=ee,ie=(o("fdb0"),Object(m["a"])(oe,Zt,te,!1,null,"32223f84",null)),ae=ie.exports,se=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"fixed-top lightBackground"},[o("div",{staticClass:"d-flex justify-content-around my-2"},[o("a",{staticStyle:{color:"white"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$router.go(-1)}}},[o("i",{staticClass:"fas fa-chevron-left my-auto",staticStyle:{color:"white"}})]),o("h5",{staticStyle:{color:"white"}},[t._v("Checkout")]),t.$parent.deliveryInfo!={}?o("router-link",{attrs:{to:{name:"search",params:{searchKey:""}}}},[o("i",{staticClass:"fas fa-search my-auto",staticStyle:{color:"white"}})]):t._e(),t.$parent.deliveryInfo=={}?o("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.requestLocation()}}},[o("i",{staticClass:"fas fa-map-marker-alt my-auto",staticStyle:{color:"white"}})]):t._e()],1)]),o("br"),o("div",{staticClass:"container"},[o("p",{staticClass:"title"},[t._v("Select payment method")]),o("div",{staticClass:"form-check my-0"},[o("div",{staticClass:"d-flex justify-content-between",on:{click:function(e){t.paymentMode="cash"}}},[o("div",{staticClass:"radioContainer"},[o("label",{staticClass:"form-check-label"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.paymentMode,expression:"paymentMode"}],staticClass:"form-check-input",attrs:{type:"radio",name:"paymentMode",value:"cash"},domProps:{checked:t._q(t.paymentMode,"cash")},on:{change:function(e){t.paymentMode="cash"}}}),o("span",{staticClass:"checkmark my-auto"}),"cash"==t.paymentMode?o("div",[t._m(0)]):t._e(),"cash"!=t.paymentMode?o("div",[o("p",{staticClass:"mx-3 my-0 text-muted"},[t._v("Cash on delivery")])]):t._e()])])])]),o("hr"),o("p",{staticClass:"title"},[t._v("Enter your phone number")]),o("form",[o("div",{staticClass:"form-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNumber,expression:"phoneNumber"}],staticClass:"form-control",attrs:{type:"email",id:"InputPhoneNumber","aria-describedby":"phoneNumberHelp",placeholder:"0123456789"},domProps:{value:t.phoneNumber},on:{input:function(e){e.target.composing||(t.phoneNumber=e.target.value)}}}),o("small",{staticClass:"form-text text-muted",attrs:{id:"emailHelp"}},[t._v("We will call this number when delivering your food")])])])]),o("div",{staticClass:"fixed-bottom",attrs:{id:"footer"}},[o("div",{staticClass:"d-flex justify-content-center my-1"},[t.$parent.orders.length>0?o("div",{staticClass:"rounded mediumBackground d-flex justify-content-center my-0",staticStyle:{width:"80%"},on:{click:function(e){return t.submitOrder()}}},[o("p",{staticClass:"my-2",staticStyle:{color:"white"}},[t._v("Confirm")])]):t._e(),t.$parent.orders.length<1?o("div",{staticClass:"rounded greyBackground d-flex justify-content-center my-0",staticStyle:{width:"80%"}},[o("p",{staticClass:"my-2",staticStyle:{color:"white"}},[t._v("Confirm")])]):t._e()])])])},ne=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("p",{staticClass:"mx-3 my-0 text-muted"},[o("b",[t._v("Cash on delivery")])])}],re={name:"Checkout",data:function(){return{paymentMode:"cash",phoneNumber:""}},methods:{submitOrder:function(){for(var t=this,e=[],o=0,i=0;i<this.$parent.orders.length;i++){var a={menuId:this.$parent.orders[i].menuId,quantity:this.$parent.orders[i].quantity,menuName:this.$parent.orders[i].menuName,menuPrice:this.$parent.orders[i].orderPrice,options:this.$parent.orders[i].menuOptions,addOns:this.$parent.orders[i].selectedAddOns,menuNotes:this.$parent.orders[i].menuNotes};o+=this.$parent.orders[i].orderPrice,e.push(a)}var s,n,r=this.$auth.isAuthenticated?this.$auth.user.email:"guest";s=this.$parent.deliveryInfo.deliveryFee?this.$parent.deliveryInfo.deliveryFee:0,n=this.$parent.deliveryInfo!={}?{userId:r,productTotal:this.$parent.productTotal,deliveryFee:s,orderTotal:this.$parent.productTotal+s,orderType:"delivery",orders:e,address:this.$parent.deliveryInfo.destination,latitude:this.$parent.latitude,longitude:this.$parent.longitude,phoneNumber:this.phoneNumber}:{userId:r,orderPrice:o,orderType:"delivery",orders:e,locationNotes:""},this.axios.post(this.$parent.api+"order/make_order",n).then((function(e){window.console.log(e.data),t.$parent.orders=[],window.localStorage.setItem("orders",JSON.stringify([])),window.localStorage.setItem("orderMode",""),t.$router.push({name:"postOrder"})})).catch((function(t){window.console.log(t)}))}}},ce=re,le=(o("784d"),Object(m["a"])(ce,se,ne,!1,null,"86273ef0",null)),de=le.exports,pe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t._m(0),o("div",{staticClass:"container my-3"},[o("img",{staticClass:"rounded mt-2",attrs:{src:"/img/banners/banner.jpg",width:"100%",height:"150px"}}),o("div",{staticClass:"card shadowed mt-4"},[o("div",{staticClass:"d-flex justify-content-between mediumBackground rounded p-2"},[o("div",[o("p",{staticClass:"mb-0",staticStyle:{"font-size":"12px",color:"#d2dedb"}},[t._v("delivery fee")]),o("div",{staticClass:"d-flex justify-content-start"},[o("p",{staticClass:"my-0",staticStyle:{"font-size":"30px",color:"white"}},[t._v("฿")]),o("p",{staticClass:"my-0",staticStyle:{"font-size":"30px","font-weight":"900",color:"white"}},[t._v(t._s(t.$parent.deliveryInfo.deliveryFee))])])]),o("p",{staticStyle:{color:"white"}},[t._v(t._s(t.$parent.deliveryInfo.duration.humanReadable))])]),o("div",{staticClass:"p-2"},[o("div",{staticClass:"d-flex justify-content-start"},[o("i",{staticClass:"fas fa-map-marker-alt my-auto lightColour mr-2 my-auto",staticStyle:{"align-items":"baseline"}}),o("p",{staticClass:"mb-1 darkColour mr-2 my-auto",staticStyle:{"align-items":"baseline"}},[o("b",[t._v(t._s(t.$parent.deliveryInfo.distance.humanReadable))])]),o("p",{staticClass:"text-secondary my-auto",staticStyle:{"font-size":"14px","align-items":"baseline"}},[t._v("from Capri Cove")])]),o("p",{staticClass:"mt-1",staticStyle:{"font-size":"12px",color:"silver"}},[t._v(t._s(t.$parent.deliveryInfo.destination))])])]),o("div",{staticClass:"mt-4"},[t._m(1),o("div",{staticClass:"d-flex justify-content-between my-1"},[o("vue-google-autocomplete",{ref:"addressInput",attrs:{id:"map",classname:"form-control",placeholder:t.$parent.deliveryInfo.destination,country:"th"},on:{placechanged:t.getAddressData}}),o("a",{staticClass:"my-auto",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.requestLocation()}}},[o("i",{staticClass:"fas fa-map-marker-alt my-auto lightColour mx-3 my-auto"})])],1)])]),o("div",{staticClass:"d-flex justify-content-center my-2"},[o("div",{staticClass:"m-2"},[o("div",{staticClass:"lightBackground p-2 rounded",on:{click:function(e){return t.setMode("delivery")}}},[o("p",{staticClass:"text-center my-auto",staticStyle:{color:"white"}},[t._v("Delivery")])])]),o("div",{staticClass:"m-2"},[o("div",{staticClass:"lightBackground p-2 rounded",on:{click:function(e){return t.setMode("takeaway")}}},[o("p",{staticClass:"text-center my-auto",staticStyle:{color:"white"}},[t._v("Takeaway")])])]),o("div",{staticClass:"m-2"},[o("div",{staticClass:"lightBackground p-2 rounded",on:{click:function(e){return t.setMode("dinein")}}},[o("p",{staticClass:"text-center my-auto",staticStyle:{color:"white"}},[t._v("Dine in")])])])]),o("div",{staticClass:"fixed-bottom",attrs:{id:"footer"}},[o("div",{staticClass:"navBar"},[o("div",{staticClass:"row my-auto",attrs:{id:"bottomNav"}},[o("div",{staticClass:"col-3 text-center mt-1"},[o("router-link",{staticStyle:{color:"none"},attrs:{to:{name:"home"}}},[o("i",{staticClass:"fas fa-home navIcon mediumColour"}),o("p",{staticClass:"navbarText mb-1 mediumColour"},[t._v("Home")])])],1),o("div",{staticClass:"col-3 text-center mt-1"},[o("router-link",{staticStyle:{color:"none"},attrs:{to:{name:"cart"}}},[o("i",{staticClass:"fas fa-shopping-cart navIcon lightColour"}),o("p",{staticClass:"navbarText mb-1 lightColour"},[t._v("Cart")])])],1),o("div",{staticClass:"col-3 text-center mt-1"},[o("router-link",{staticStyle:{color:"none"},attrs:{to:{name:"support"}}},[o("i",{staticClass:"fas fa-question navIcon lightColour"}),o("p",{staticClass:"navbarText mb-1 lightColour"},[t._v("Support")])])],1),o("div",{staticClass:"col-3 text-center mt-1"},[o("router-link",{staticStyle:{color:"none"},attrs:{to:{name:"account"}}},[o("i",{staticClass:"fas fa-user navIcon lightColour"}),o("p",{staticClass:"navbarText mb-1 lightColour"},[t._v("Account")])])],1)])])])])},ue=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"topBar fixed-top extralightBackground rounded"},[o("div",{staticClass:"d-flex justify-content-around my-1"},[o("img",{staticClass:"my-0",attrs:{src:"/img/logos/logo.png",height:"38px"}})])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("p",{staticClass:"mb-0 ml-2 darkColour"},[o("b",[t._v("Address")])])}],me=o("0118"),he={components:{VueGoogleAutocomplete:me["a"],NavBar:y},name:"OrderOptions",data:function(){return{useGps:!0,addressData:{},address:""}},created:function(){var t=window.localStorage.getItem("orderMode");this.$route.params.redirect&&this.isValidOrderMode(t)&&this.setMode(t)},methods:{setMode:function(t){this.$parent.orderMode=t,window.localStorage.setItem("orderMode",t),this.$router.push({name:"home",params:{orderMode:t}})},isValidOrderMode:function(t){return"delivery"==t||("takeaway"==t||"dinein"==t)},getAddressData:function(t,e){this.addressData=t,this.$parent.latitude=t.latitude,this.$parent.longitude=t.longitude,this.placeResultData=e,this.address=e.formatted_address,this.$parent.getDeliveryFee(t.latitude,t.longitude),window.console.log(t),window.console.log(e)},requestLocation:function(){this.$refs.addressInput.clear(),navigator.geolocation?navigator.geolocation.getCurrentPosition(this.savePosition,(function(t){switch(t.code){case t.PERMISSION_DENIED:this.$parent.deliveryInfo={};break;case t.POSITION_UNAVAILABLE:this.$parent.deliveryInfo={};break;case t.TIMEOUT:this.$parent.deliveryInfo={};break;case t.UNKNOWN_ERROR:this.$parent.deliveryInfo={};break}})):(window.console.log("Geolocation is not supported by this browser."),this.$parent.deliveryInfo={})},savePosition:function(t){var e=this;this.$parent.latitude=t.coords.latitude,this.$parent.longitude=t.coords.longitude,window.console.log(this.$parent.latitude),this.axios.post(this.$parent.api+"processor/get_delivery_fee",{latitude:this.$parent.latitude,longitude:this.$parent.longitude}).then((function(t){window.console.log(t.data),e.$parent.deliveryInfo=t.data,window.localStorage.setItem("deliveryInfo",JSON.stringify(e.$parent.deliveryInfo)),e.$parent.deliveryInfo.destination.length>50?e.$parent.deliveryInfo.shortenedAddress=e.$parent.deliveryInfo.destination.substring(0,50)+"...":e.$parent.deliveryInfo.shortenedAddress=e.$parent.deliveryInfo.destination,e.address=e.$parent.deliveryInfo.destination})).catch((function(t){window.console.log(t)}))}}},ye=he,fe=(o("22d8"),Object(m["a"])(ye,pe,ue,!1,null,"1fc32634",null)),ve=fe.exports,ge=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticClass:"d-flex"},[t._m(0),o("p",{staticStyle:{color:"white"}},[t._v("a")]),"confirmed"==t.order.status?o("p",{staticClass:"text-success"},[o("b",[t._v(t._s(t.order.status))])]):t._e(),"canceled"==t.order.status?o("p",{staticClass:"text-danger"},[o("b",[t._v(t._s(t.order.status))])]):t._e(),"unconfirmed"==t.order.status?o("p",{staticClass:"text-warning"},[o("b",[t._v(t._s(t.order.status))])]):t._e()]),o("p",[o("b",[t._v("Time:")]),t._v(" "+t._s(t.order.orderTime))]),o("p",[o("b",[t._v("Order Type:")]),t._v(" "+t._s(t.order.orderType))]),"delivery"==t.order.orderType?o("div",[o("div",{staticClass:"d-flex"},[t._m(1),o("p",{staticClass:"invisText"},[t._v("a")]),o("p",{staticClass:"titleText text-muted"},[t._v(t._s(t.order.address))])]),o("a",{attrs:{href:"http://mapy.google.pl?q="+t.order.latitude+","+t.order.longitude}},[o("button",{staticClass:"btn btn-info btn-block",attrs:{type:"button"}},[t._v("Maps")])])]):t._e(),"delivery"==t.order.orderType||"takeaway"==t.order.orderType?o("div",[o("p",{staticClass:"mt-4"},[o("b",[t._v("Phone number:")]),t._v(" "+t._s(t.order.phoneNumber))]),o("a",{attrs:{href:"tel:"+t.order.phoneNumber}},[o("button",{staticClass:"btn btn-info btn-block",attrs:{type:"button"}},[t._v("Call")])])]):t._e(),o("div",{staticClass:"my-3"},[t._m(2),o("hr"),t._l(t.order.orders,(function(e,i){return o("div",{key:i},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-4"},[o("p",{staticClass:"contentText"},[t._v(t._s(e.menuName))])]),o("div",{staticClass:"col-4"},[o("p",{staticClass:"contentText text-center"},[t._v(t._s(e.optionString))])]),o("div",{staticClass:"col-2"},[o("p",{staticClass:"contentText"},[t._v("x"+t._s(e.quantity))])]),o("div",{staticClass:"col-2"},[o("p",{staticClass:"contentText"},[t._v(t._s(e.menuPrice))])])]),o("hr")])}))],2),"unconfirmed"==t.order.status?o("div",{key:t.order.status,staticClass:"row"},[o("div",{staticClass:"col-6"},[o("button",{staticClass:"btn btn-success btn-block",attrs:{type:"button"},on:{click:function(e){return t.$parent.acceptOrder(t.order)}}},[t._v("Accept")])]),o("div",{staticClass:"col-6"},[o("button",{staticClass:"btn btn-danger btn-block",attrs:{type:"button"},on:{click:function(e){return t.$parent.declineOrder(t.order)}}},[t._v("Decline")])])]):t._e()])},Ce=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("p",[o("b",[t._v("Status: ")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("p",{staticClass:"titleText"},[o("b",[t._v("Address:")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("p",[o("b",[t._v("Items")])])}],_e={name:"OrderDetails",data:function(){return{order:{orderType:""}}},created:function(){var t=this;this.axios.post(this.$parent.api+"order/get_order",{string:this.$route.params.orderId},this.$parent.config).then((function(e){t.order=e.data,window.console.log(t.order)}))},methods:{refreshToken:function(){var t=this;window.console.log(this.$parent.refresherToken),window.clearInterval(this.loop),this.axios.post(this.$parent.api+"authenticate/token",{string:this.$parent.refresherToken}).then((function(e){window.console.log(e.data),t.accessToken=e.data.accessToken,window.localStorage.setItem("accessToken",e.data.accessToken),t.$parent.updateConfig(),t.axios.get(t.$parent.api+"order/get_daily_orders",t.$parent.config).then((function(e){t.orders=e.data;for(var o=0;o<t.orders.length;o++)t.orders[o].response="";t.refresh(),window.console.log("refresh successful")})).catch((function(){t.redirectLogin()}))})).catch((function(){window.console.log("GetNewAccessToken failed"),t.$router.push({name:"login"})}))}}},xe=_e,be=(o("916b"),Object(m["a"])(xe,ge,Ce,!1,null,"d03901fc",null)),we=be.exports,ke=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"lightBackground fixed-top"},[o("div",{staticClass:"d-flex justify-content-around my-2"},[o("a",{staticStyle:{color:"white"},attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$router.go(-1)}}},[o("i",{staticClass:"fas fa-chevron-left my-auto",staticStyle:{color:"white"}})]),o("h5",{staticStyle:{color:"white"}},[t._v("Change location")]),o("a",{attrs:{href:"#"},on:{click:function(e){return t.requestLocation()}}},[o("i",{staticClass:"fas fa-map-marker-alt my-auto",staticStyle:{color:"white"}})])])]),o("div",{staticClass:"container my-3"},[o("div",{staticClass:"card shadowed mt-4"},[o("div",{staticClass:"d-flex justify-content-between mediumBackground rounded p-2"},[o("div",[o("p",{staticClass:"mb-0",staticStyle:{"font-size":"12px",color:"#d2dedb"}},[t._v("delivery fee")]),o("div",{staticClass:"d-flex justify-content-start"},[o("p",{staticClass:"my-0",staticStyle:{"font-size":"30px",color:"white"}},[t._v("฿")]),o("p",{staticClass:"my-0",staticStyle:{"font-size":"30px","font-weight":"900",color:"white"}},[t._v(t._s(t.$parent.deliveryInfo.deliveryFee))])])]),o("p",{staticStyle:{color:"white"}},[t._v(t._s(t.$parent.deliveryInfo.duration.humanReadable))])]),o("div",{staticClass:"p-2"},[o("div",{staticClass:"d-flex justify-content-start"},[o("i",{staticClass:"fas fa-map-marker-alt my-auto lightColour mr-2 my-auto",staticStyle:{"align-items":"baseline"}}),o("p",{staticClass:"mb-1 darkColour mr-2 my-auto",staticStyle:{"align-items":"baseline"}},[o("b",[t._v(t._s(t.$parent.deliveryInfo.distance.humanReadable))])]),o("p",{staticClass:"text-secondary my-auto",staticStyle:{"font-size":"14px","align-items":"baseline"}},[t._v("from Capri Cove")])]),o("p",{staticClass:"mt-1",staticStyle:{"font-size":"12px",color:"silver"}},[t._v(t._s(t.$parent.deliveryInfo.destination))])])]),o("div",{staticClass:"mt-4"},[t._m(0),o("div",{staticClass:"d-flex justify-content-between my-1"},[o("vue-google-autocomplete",{ref:"addressInput",attrs:{id:"map",classname:"form-control",placeholder:t.$parent.deliveryInfo.destination,country:"th"},on:{placechanged:t.getAddressData}}),o("a",{staticClass:"my-auto",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.requestLocation()}}},[o("i",{staticClass:"fas fa-map-marker-alt my-auto lightColour mx-3 my-auto"})])],1)])]),o("div",{staticClass:"d-flex justify-content-center my-2"},[o("div",{staticClass:"m-2"},[o("div",{staticClass:"lightBackground p-2 rounded",on:{click:function(e){return t.$router.go(-1)}}},[o("p",{staticClass:"text-center my-auto",staticStyle:{color:"white"}},[t._v("Done")])])])]),o("div",{staticClass:"fixed-bottom",attrs:{id:"footer"}},[o("div",{staticClass:"navBar"},[o("div",{staticClass:"row my-auto",attrs:{id:"bottomNav"}},[o("div",{staticClass:"col-3 text-center mt-1"},[o("router-link",{staticStyle:{color:"none"},attrs:{to:{name:"home"}}},[o("i",{staticClass:"fas fa-home navIcon mediumColour"}),o("p",{staticClass:"navbarText mb-1 mediumColour"},[t._v("Home")])])],1),o("div",{staticClass:"col-3 text-center mt-1"},[o("router-link",{staticStyle:{color:"none"},attrs:{to:{name:"cart"}}},[o("i",{staticClass:"fas fa-shopping-cart navIcon lightColour"}),o("p",{staticClass:"navbarText mb-1 lightColour"},[t._v("Cart")])])],1),o("div",{staticClass:"col-3 text-center mt-1"},[o("router-link",{staticStyle:{color:"none"},attrs:{to:{name:"support"}}},[o("i",{staticClass:"fas fa-question navIcon lightColour"}),o("p",{staticClass:"navbarText mb-1 lightColour"},[t._v("Support")])])],1),o("div",{staticClass:"col-3 text-center mt-1"},[o("router-link",{staticStyle:{color:"none"},attrs:{to:{name:"account"}}},[o("i",{staticClass:"fas fa-user navIcon lightColour"}),o("p",{staticClass:"navbarText mb-1 lightColour"},[t._v("Account")])])],1)])])])])},Se=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("p",{staticClass:"mb-0 ml-2 darkColour"},[o("b",[t._v("Address")])])}],Ne={components:{VueGoogleAutocomplete:me["a"],NavBar:y},name:"EditLocation",data:function(){return{useGps:!0,addressData:{},address:""}},created:function(){},methods:{isValidOrderMode:function(t){return"delivery"==t||("takeaway"==t||"dinein"==t)},getAddressData:function(t,e){this.addressData=t,this.$parent.latitude=t.latitude,this.$parent.longitude=t.longitude,this.placeResultData=e,this.address=e.formatted_address,this.$parent.getDeliveryFee(t.latitude,t.longitude),window.console.log(t),window.console.log(e)},requestLocation:function(){this.$refs.addressInput.clear(),navigator.geolocation?navigator.geolocation.getCurrentPosition(this.savePosition,(function(t){switch(t.code){case t.PERMISSION_DENIED:this.$parent.deliveryInfo={};break;case t.POSITION_UNAVAILABLE:this.$parent.deliveryInfo={};break;case t.TIMEOUT:this.$parent.deliveryInfo={};break;case t.UNKNOWN_ERROR:this.$parent.deliveryInfo={};break}})):(window.console.log("Geolocation is not supported by this browser."),this.$parent.deliveryInfo={})},savePosition:function(t){var e=this;this.$parent.latitude=t.coords.latitude,this.$parent.longitude=t.coords.longitude,window.console.log(this.$parent.latitude),this.axios.post(this.$parent.api+"processor/get_delivery_fee",{latitude:this.$parent.latitude,longitude:this.$parent.longitude}).then((function(t){window.console.log(t.data),e.$parent.deliveryInfo=t.data,window.localStorage.setItem("deliveryInfo",JSON.stringify(e.$parent.deliveryInfo)),e.$parent.deliveryInfo.destination.length>50?e.$parent.deliveryInfo.shortenedAddress=e.$parent.deliveryInfo.destination.substring(0,50)+"...":e.$parent.deliveryInfo.shortenedAddress=e.$parent.deliveryInfo.destination,e.address=e.$parent.deliveryInfo.destination})).catch((function(t){window.console.log(t)}))}}},$e=Ne,Pe=(o("48c8"),Object(m["a"])($e,ke,Se,!1,null,"3e0bd646",null)),Ie=Pe.exports,Oe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"centered"},[t._m(0),o("div",{staticClass:"d-flex justify-content-center mb-2"},[t._m(1),o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control ml-2",attrs:{type:"username",id:"exampleInputEmail1","aria-describedby":"username",placeholder:"username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control ml-2",attrs:{type:"password",id:"exampleInputEmail1","aria-describedby":"password",placeholder:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),o("div",{staticClass:"d-flex justify-content-center"},[o("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Login"},on:{click:function(e){return t.login()}}})])])])},Te=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"d-flex justify-content-center mb-2"},[o("label",{staticStyle:{"font-size":"20px",color:"#49b3cd"}},[t._v("Capri Cove Admin")])])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"my-auto"},[o("label",{staticClass:"my-2"},[t._v("Username: ")]),o("label",{staticClass:"my-2"},[t._v("Password: ")])])}],Ae={name:"Login",data:function(){return{username:"",password:""}},created:function(){this.$parent.loggedIn&&this.$router.push({name:"home"})},methods:{login:function(){var t=this;this.axios.post(this.$parent.api+"authenticate/authenticate",{username:this.username,password:this.password}).then((function(e){window.console.log(e.request.response);var o=JSON.parse(e.request.response);window.console.log(o.accessToken),t.$parent.accessToken=o.accessToken,window.localStorage.setItem("accessToken",o.accessToken),t.$parent.refresherToken=o.refresherToken,window.localStorage.setItem("refresherToken",o.refresherToken),t.$parent.updateConfig(),t.$router.push({name:"openOrders"})})).catch((function(t){window.console.log("login failed")}))}}},je=Ae,De=(o("2d6b"),Object(m["a"])(je,Oe,Te,!1,null,"1c76b0e0",null)),Ee=De.exports,ze=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[t._m(0),o("div",{staticClass:"form-group"},[o("label",[t._v("ID")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1","aria-describedby":"id",placeholder:"Enter menu ID"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",[t._v("Name")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1","aria-describedby":"name",placeholder:"Enter menu name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",[t._v("Image name")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.src,expression:"src"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1","aria-describedby":"src",placeholder:"eg. pizza.jpg"},domProps:{value:t.src},on:{input:function(e){e.target.composing||(t.src=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",[t._v("Section")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.section,expression:"section"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1","aria-describedby":"section",placeholder:"Enter menu I"},domProps:{value:t.section},on:{input:function(e){e.target.composing||(t.section=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",[t._v("Categories")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.categories,expression:"categories"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1","aria-describedby":"categories",placeholder:"Categories, separated by commas"},domProps:{value:t.categories},on:{input:function(e){e.target.composing||(t.categories=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",[t._v("Price")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.price,expression:"price"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1","aria-describedby":"price",placeholder:"Enter menu price (0 if menu has variable pricing)"},domProps:{value:t.price},on:{input:function(e){e.target.composing||(t.price=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",[t._v("Tags")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.tags,expression:"tags"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1","aria-describedby":"tags",placeholder:"Tags, separated by commas"},domProps:{value:t.tags},on:{input:function(e){e.target.composing||(t.tags=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",[t._v("English description")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.englishDescription,expression:"englishDescription"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1","aria-describedby":"englishDescription",placeholder:""},domProps:{value:t.englishDescription},on:{input:function(e){e.target.composing||(t.englishDescription=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",[t._v("Thai description")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.thaiDescription,expression:"thaiDescription"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1","aria-describedby":"thaiDescription",placeholder:""},domProps:{value:t.thaiDescription},on:{input:function(e){e.target.composing||(t.thaiDescription=e.target.value)}}})]),o("div",{staticClass:"form-group"},[o("label",[t._v("Options")]),t._l(t.options,(function(e,i){return o("div",{key:i},t._l(e.options,(function(i,a){return o("div",{key:a},[o("div",{staticClass:"d-flex justify-content-between"},[o("label",[t._v(t._s(e.optionCategoryName))]),o("label",[t._v(t._s(i.optionName))]),o("label",[t._v(t._s(i.optionPrice))])])])})),0)})),o("input",{directives:[{name:"model",rawName:"v-model",value:t.optionCategory,expression:"optionCategory"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1","aria-describedby":"thaiDescription",placeholder:"Option category"},domProps:{value:t.optionCategory},on:{input:function(e){e.target.composing||(t.optionCategory=e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.optionName,expression:"optionName"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1","aria-describedby":"thaiDescription",placeholder:"Option name"},domProps:{value:t.optionName},on:{input:function(e){e.target.composing||(t.optionName=e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.optionPrice,expression:"optionPrice"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1","aria-describedby":"thaiDescription",placeholder:"Option price"},domProps:{value:t.optionPrice},on:{input:function(e){e.target.composing||(t.optionPrice=e.target.value)}}}),o("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Add option"},on:{click:function(e){return t.addOption()}}})],2),o("div",{staticClass:"form-group"},[o("label",[t._v("Add Ons")]),t.addOns.length>0?o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.addOnLimit,expression:"addOnLimit"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1","aria-describedby":"thaiDescription",placeholder:"Add on selection limit"},domProps:{value:t.addOnLimit},on:{input:function(e){e.target.composing||(t.addOnLimit=e.target.value)}}})]):t._e(),t._l(t.addOns,(function(e,i){return o("div",{key:i},[o("div",{staticClass:"d-flex justify-content-between"},[o("label",[t._v(t._s(e.optionName))]),o("label",[t._v(t._s(e.optionPrice))])])])})),o("input",{directives:[{name:"model",rawName:"v-model",value:t.addOnName,expression:"addOnName"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1","aria-describedby":"thaiDescription",placeholder:"Add On Name"},domProps:{value:t.addOnName},on:{input:function(e){e.target.composing||(t.addOnName=e.target.value)}}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.addOnPrice,expression:"addOnPrice"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1","aria-describedby":"thaiDescription",placeholder:"Add On price"},domProps:{value:t.addOnPrice},on:{input:function(e){e.target.composing||(t.addOnPrice=e.target.value)}}}),o("input",{staticClass:"btn btn-primary",attrs:{type:"button",value:"Add add on"},on:{click:function(e){return t.addAddOn()}}})],2)])},Me=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"fixed-top darkBackground mt-0"},[o("p",{staticClass:"text-center my-auto",staticStyle:{color:"white"}},[t._v("Add menu")])])}],Be=(o("28a5"),{name:"AddMenu",data:function(){return{id:"",name:"",src:"",section:"",categories:"",price:"",tags:"",englishDescription:"",thaiDescription:"",addOnLimit:"",options:[],addOns:[],optionCategory:"",optionName:"",optionPrice:"",addOnName:"",addOnPrice:""}},methods:{addOption:function(){for(var t=!1,e=0;e<this.options.length;e++){var o=this.options[e];o.optionCategoryName==this.optionName&&(t=!0,o.options.push({optionName:this.optionName,optionPrice:this.optionPrice}))}t||this.options.push({optionCategoryName:this.optionCategory,options:[{optionName:this.optionName,optionPrice:this.optionPrice}]}),this.optionCategory="",this.optionName="",this.optionPrice=""},addAddOn:function(){this.addOns.push({optionName:this.addOnName,optionPrice:this.addOnPrice})},submitMenu:function(){var t=this;this.axios.post(this.$parent.api+"menu/get_menu_by_category",{id:this.id,name:this.name,src:this.src,section:this.section,categories:this.categories.split(","),price:parseInt(this.price),tags:this.tags.split(","),englishDescription:this.englishDescription,thaiDescription:this.thaiDescription,optionCategories:this.options,addOns:this.addOns,addOnLimit:parseInt(this.addOnLimit)}).then((function(e){1==e?t.$alert("Menu has been added"):t.$alert("Failed to add menu")}))}}}),qe=Be,Re=Object(m["a"])(qe,ze,Me,!1,null,null,null),Le=Re.exports,Ke=(o("386d"),o("6762"),o("2fdb"),o("96cf"),o("1da1")),Fe=o("15fd"),Ue=o("9767"),We=function(){return window.history.replaceState({},document.title,window.location.pathname)},Ge=function(){return i},Je=function(t){var e=t.onRedirectCallback,o=void 0===e?We:e,s=t.redirectUri,n=void 0===s?window.location.origin:s,r=Object(Fe["a"])(t,["onRedirectCallback","redirectUri"]);return i||(i=new a["default"]({data:function(){return{loading:!0,isAuthenticated:!1,user:{},auth0Client:null,popupOpen:!1,error:null}},methods:{loginWithPopup:function(){var t=Object(Ke["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.popupOpen=!0,t.prev=1,t.next=4,this.auth0Client.loginWithPopup(e);case 4:return t.next=6,this.auth0Client.getUser();case 6:return this.user=t.sent,t.next=9,this.auth0Client.isAuthenticated();case 9:this.isAuthenticated=t.sent,this.error=null,t.next=17;break;case 13:t.prev=13,t.t0=t["catch"](1),console.error(t.t0),this.error=t.t0;case 17:return t.prev=17,this.popupOpen=!1,t.finish(17);case 20:case"end":return t.stop()}}),t,this,[[1,13,17,20]])})));function e(e){return t.apply(this,arguments)}return e}(),handleRedirectCallback:function(){var t=Object(Ke["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,this.auth0Client.handleRedirectCallback();case 4:return t.next=6,this.auth0Client.getUser();case 6:this.user=t.sent,this.isAuthenticated=!0,this.error=null,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),this.error=t.t0;case 14:return t.prev=14,this.loading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])})));function e(){return t.apply(this,arguments)}return e}(),loginWithRedirect:function(t){return this.auth0Client.loginWithRedirect(t)},getIdTokenClaims:function(t){return this.auth0Client.getIdTokenClaims(t)},getTokenSilently:function(t){return this.auth0Client.getTokenSilently(t)},getTokenWithPopup:function(t){return this.auth0Client.getTokenWithPopup(t)},logout:function(t){return this.auth0Client.logout(t)}},created:function(){var t=Object(Ke["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Ue["a"])({domain:r.domain,client_id:r.clientId,audience:r.audience,redirect_uri:n});case 2:if(this.auth0Client=t.sent,t.prev=3,!window.location.search.includes("code=")||!window.location.search.includes("state=")){t.next=11;break}return t.next=7,this.auth0Client.handleRedirectCallback();case 7:e=t.sent,i=e.appState,this.error=null,o(i);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](3),this.error=t.t0;case 16:return t.prev=16,t.next=19,this.auth0Client.isAuthenticated();case 19:return this.isAuthenticated=t.sent,t.next=22,this.auth0Client.getUser();case 22:return this.user=t.sent,this.loading=!1,t.finish(16);case 25:case"end":return t.stop()}}),t,this,[[3,13,16,25]])})));function e(){return t.apply(this,arguments)}return e}()}),i)},Ve={install:function(t,e){t.prototype.$auth=Je(e)}},He=function(t,e,o){var i=Ge(),a=function(){if(i.isAuthenticated)return o();i.loginWithRedirect({appState:{targetUrl:t.fullPath}})};if(!i.loading)return a();i.$watch("loading",(function(t){if(!1===t)return a()}))};a["default"].use(A["a"]);var Qe=new A["a"]({mode:"history",base:"/",routes:[{path:"/",name:"root",component:B},{path:"/home:orderMode?",name:"home",component:st},{path:"/profile",name:"profile",component:dt,beforeEnter:He},{path:"/test",name:"test",component:ft},{path:"/menu:menuId",name:"menu",component:bt},{path:"/edititem:index/id",name:"editItem",component:Pt},{path:"/cart",name:"cart",component:Dt},{path:"/postOrder",name:"postOrder",component:Rt},{path:"/category:categoryName",name:"category",component:Gt},{path:"/orders",name:"openOrders",component:Xt},{path:"/search:searchKey",name:"search",component:ae},{path:"/checkout",name:"checkout",component:de},{path:"/orderOptions:redirect?",name:"orderOptions",component:ve},{path:"/order:orderId",name:"orderDetails",component:we},{path:"/addmenu",name:"AddMenu",component:Le},{path:"/editlocation",name:"editLocation",component:Ie},{path:"/login",name:"login",component:Ee}]}),Ye=Qe,Xe=o("683f"),Ze=(o("ac6a"),o("a70e")),to=o.n(Ze),eo=o("5ad2"),oo=o.n(eo);o("6e2e");to.a.registerLanguage("json",oo.a);var io={deep:!0,bind:function(t,e){var o=t.querySelectorAll("code");o.forEach((function(t){e.value&&(t.textContent=e.value),to.a.highlightBlock(t)}))},componentUpdated:function(t,e){var o=t.querySelectorAll("code");o.forEach((function(t){e.value&&(t.textContent=e.value,to.a.highlightBlock(t))}))}},ao=o("ecee"),so=o("c074"),no=o("ad3d"),ro=o("8160"),co=o("0a63"),lo=o.n(co),po=o("bc3a"),uo=o.n(po),mo=o("a7fe"),ho=o.n(mo);o("f9e3"),o("2dd8");a["default"].config.productionTip=!1,a["default"].use(Xe["a"]),a["default"].use(lo.a),a["default"].use(s["a"]),a["default"].use(n["a"]),a["default"].use(ho.a,uo.a),a["default"].use(Ve,{domain:ro["b"],clientId:ro["a"],onRedirectCallback:function(t){Ye.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),a["default"].directive("highlightjs",io),ao["c"].add(so["a"],so["c"],so["b"]),a["default"].component("font-awesome-icon",no["a"]),new a["default"]({router:Ye,render:function(t){return t(T)}}).$mount("#app")},"6a79":function(t,e,o){"use strict";var i=o("b611"),a=o.n(i);a.a},"784d":function(t,e,o){"use strict";var i=o("db5b"),a=o.n(i);a.a},"7acb":function(t,e,o){"use strict";var i=o("bd4e"),a=o.n(i);a.a},"7dbb":function(t,e,o){},8160:function(t){t.exports=JSON.parse('{"b":"dev-b1dpig7j.au.auth0.com","a":"zHv2L7mYSKblw9LqEV5STspnXiTW6RXI"}')},8239:function(t,e,o){"use strict";var i=o("9a48"),a=o.n(i);a.a},"916b":function(t,e,o){"use strict";var i=o("c340"),a=o.n(i);a.a},"93a9":function(t,e,o){"use strict";var i=o("3222"),a=o.n(i);a.a},"9a48":function(t,e,o){},"9f27":function(t,e,o){"use strict";var i=o("cd7f"),a=o.n(i);a.a},b0a0:function(t,e,o){"use strict";var i=o("07bb"),a=o.n(i);a.a},b232:function(t,e,o){},b4c9:function(t,e,o){},b611:function(t,e,o){},bd4e:function(t,e,o){},c340:function(t,e,o){},cd7f:function(t,e,o){},d04a:function(t,e,o){},d5d7:function(t,e,o){"use strict";var i=o("b232"),a=o.n(i);a.a},db5b:function(t,e,o){},dd29:function(t,e,o){"use strict";var i=o("eb55"),a=o.n(i);a.a},eb55:function(t,e,o){},fd69:function(t,e,o){},fdb0:function(t,e,o){"use strict";var i=o("1787"),a=o.n(i);a.a},fde4:function(t,e,o){"use strict";var i=o("b4c9"),a=o.n(i);a.a}});
//# sourceMappingURL=app.74e680b3.js.map